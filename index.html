<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="OS-Marathon: Benchmarking Computer-Use Agents on Long-Horizon Repetitive Tasks">
        <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>⏱️</text></svg>">

        <!--LinkedIn preview-->
        <meta property="og:image" content="assets/teaser_social_card.png">
        <meta property="og:type" content="website"/>
        <meta property="og:url" content=""/>
        <meta property="og:title" content="OS-Marathon: Benchmarking Computer-Use Agents on Long-Horizon Repetitive Tasks"/>
        <meta property="og:description" content="Evaluating computer-use agents on long-horizon repetitive desktop workflows."/>

        <!--Twitter preview-->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="OS-Marathon: Benchmarking Computer-Use Agents on Long-Horizon Repetitive Tasks" />
        <meta name="twitter:description" content="Evaluating computer-use agents on long-horizon repetitive desktop workflows."/>
        <meta name="twitter:image" content="assets/teaser_social_card.png">

        <title>OS-Marathon Benchmark</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
            crossorigin="anonymous">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
              crossorigin="anonymous">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css"
              integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">

        <style>
            :root {
                --primary-gradient: linear-gradient(135deg, #f18463 0%, #f36633 100%);
                --bg-color: #0d0d0d;
                --text-color: #f8f9fa;
                --highlight-color: #15f8d2;
                --highlight-color-light: #fdd9e9;
                --ms-red: #f25022;
                --ms-green: #7fba00;
                --ms-blue: #00a4ef;
                --ms-yellow: #ffb900;
                --table-head: #112847
            }
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
                background-color: #0d0d0d;
                color: #f8f9fa;
            }
            
            a {
                color: var(--highlight-color);
                text-decoration: none;
            }
            a:hover {
                color: var(--highlight-color-light);
                text-decoration: underline;
            }

            h1, h2, h3, h4, h5, h6 {
                color: #ffffff;
            }

            .text-muted {
                color: #9ca3af !important;
            }

            hr {
                border-color: var(--highlight-color);
                opacity: 0.8;
            }

            table.table-hover tbody tr td:last-child,
            table.table-hover tbody tr td:nth-last-child(2) {
                text-align: center !important;
            }

            .info-callout {
                display: flex;
                align-items: flex-start;
                gap: 16px;
                padding: 20px 24px;
                margin: 24px 0;
                background: linear-gradient(135deg, #0f2e34, #0b1f24);
                border-left: 4px solid #00b4e6;
                border-radius: 12px;
                color: #e8f7fb;
            }

            .info-icon {
                flex: 0 0 auto;
                font-size: 1.6rem;
                color: var(--ms-yellow);
                line-height: 1;
                margin-top: 2px;
            }

            .info-label {
            display: inline-block;
            margin-bottom: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            color: #7fdcff;
            }

            .info-content p {
            margin: 0;
            line-height: 1.6;
            }

            .info-content strong {
            color: #ffffff;
            }


            .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* force one row */
            gap: 48px;
            align-items: start;
            text-align: center;
            }

            .stat-card {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                min-height: 220px; /* ensures equal height */
            }

            .stat-icon {
            width: 64px;
            height: 64px;
            background-color: #02285a;
            color: var(--highlight-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            margin-bottom: 16px;
            }

            .stat-value {
            font-size: 3rem;
            font-weight: 700;
            color: var(--highlight-color);
            margin-bottom: 12px;
            }

            .stat-label {
            font-size: 1rem;
            color: #d6d6d6;
            line-height: 1.4;
            max-width: 220px; /* keeps text wrapping consistent */
            }

            /* Small desktops / large tablets: 2 columns */
            @media (max-width: 1000px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 32px;
            }

            .stat-card {
                min-height: 200px;
            }

            .stat-value {
                font-size: 2.6rem;
            }

            .stat-icon {
                width: 56px;
                height: 56px;
                font-size: 1.4rem;
            }

            .stat-label {
                max-width: 180px;
            }
            }

            /* Phones: single column stacked center */
            @media (max-width: 560px) {
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 28px;
                padding: 0 12px;
            }

            .stat-card {
                flex-direction: row;              /* place icon and text side-by-side */
                align-items: center;
                justify-content: flex-start;
                gap: 16px;
                min-height: auto;                 /* let content size naturally */
                padding: 10px 6px;
            }

            .stat-icon {
                width: 48px;
                height: 48px;
                font-size: 1.1rem;
                flex: 0 0 48px;
            }

            .stat-value {
                font-size: 2rem;
                margin: 0 8px 0 0;
                flex: 0 0 auto;
                color: #00b4e6;
            }

            /* place label to the right, allow it to wrap */
            .stat-label {
                font-size: 0.95rem;
                max-width: calc(100% - 48px - 56px); /* icon + number reserved space */
                text-align: left;
                color: #d6d6d6;
            }

            /* stack number above label within the right side for compactness */
            /* create a small helper wrapper if you want (optional) */
            .stat-card > .right {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                gap: 6px;
            }
            }

            .carousel-caption {
                background: rgba(0, 0, 0, 0.75);
                border-radius: 8px;
                padding: 12px 24px;
                bottom: 20px;
                /* border: 1px solid rgba(238, 150, 34, 0.4); */
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            }

            .carousel-caption h5 {
                margin: 0;
                font-weight: 600;
                color: var(--highlight-color);
                font-size: 14px;
                line-height: 1.4;
                /* text-shadow: 0 0 10px rgba(238, 92, 34, 0.5); */
            }

            /* Detailed instruction captions */
            .carousel-caption h5.caption-detailed {
                font-family: 'Courier New', Courier, monospace;
                text-align: left;
                font-size: 12px;
                line-height: 1.5;
                font-weight: 400;
                color: var(--highlight-color);
            }

            @media (max-width: 992px) {
                .carousel-caption {
                    padding: 10px 16px;
                    bottom: 15px;
                }
                .carousel-caption h5 {
                    font-size: 13px;
                }
                .carousel-caption h5.caption-detailed {
                    font-size: 11px;
                    line-height: 1.4;
                }
            }

            @media (max-width: 768px) {
                .carousel-caption {
                    padding: 8px 14px;
                    bottom: 12px;
                }
                .carousel-caption h5 {
                    font-size: 12px;
                }
                .carousel-caption h5.caption-detailed {
                    font-size: 10px;
                    line-height: 1.35;
                }
            }

            @media (max-width: 576px) {
                .carousel-caption {
                    padding: 6px 10px;
                    bottom: 8px;
                    border-radius: 6px;
                }
                .carousel-caption h5 {
                    font-size: 11px;
                }
                .carousel-caption h5.caption-detailed {
                    font-size: 9px;
                    line-height: 1.3;
                }
            }

            /* Move indicators below the carousel content */
            .carousel {
                display: flex;
                flex-direction: column;
            }

            .carousel-indicators {
                position: relative;
                bottom: auto;
                margin: 12px auto 0;
                z-index: 2;
            }

            .carousel-indicators [data-bs-target] {
                width: 10px;
                height: 10px;
                border-radius: 50%;
                background-color: rgba(255, 255, 255, 0.4);
                border: 1px solid rgba(21, 248, 210, 0.3);
                margin: 0 4px;
                transition: all 0.3s ease;
            }

            .carousel-indicators [data-bs-target].active {
                background-color: var(--highlight-color);
                border-color: var(--highlight-color);
                box-shadow: 0 0 8px rgba(21, 248, 210, 0.6);
            }

            .carousel-indicators [data-bs-target]:hover {
                background-color: rgba(21, 248, 210, 0.6);
            }

            .carousel-inner {
                order: -1;
            }

            .carousel-control-prev,
            .carousel-control-next {
                width: 60px;
                height: 60px;
                top: 50%;
                transform: translateY(-50%);
                background: rgba(0, 0, 0, 0.7);
                border-radius: 50%;
                opacity: 0.9;
                transition: all 0.3s ease;
                border: 2px solid var(--highlight-color);
            }

            .carousel-control-prev {
                left: 15px;
            }

            .carousel-control-next {
                right: 15px;
            }

            .carousel-control-prev:hover,
            .carousel-control-next:hover {
                background: rgba(34, 235, 238, 0.3);
                border-color: var(--highlight-color);
                opacity: 1;
                box-shadow: 0 0 20px rgba(34, 235, 238, 0.5);
            }

            .carousel-control-prev-icon,
            .carousel-control-next-icon {
                width: 24px;
                height: 24px;
            }

            .carousel-item video, .carousel-item .placeholder-slide {
                border-radius: 8px;
            }

            .placeholder-slide {
                background: #1f2937;
                min-height: 300px;
            }

            pre {
                background: #1a1a1a;
                color: #e5e7eb;
                border: 1px solid #374151;
                border-radius: 4px;
                padding: 1rem;
            }

            .citation-container {
                position: relative;
            }

            .citation-container pre {
                padding-right: 3.5rem;
            }

            .copy-btn {
                position: absolute;
                top: 8px;
                right: 8px;
                background: #374151;
                border: 1px solid #4b5563;
                color: #e5e7eb;
                padding: 6px 10px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 14px;
                transition: all 0.2s ease;
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .copy-btn:hover {
                background: #4b5563;
                border-color: var(--highlight-color);
                color: var(--highlight-color);
            }

            .copy-btn.copied {
                background: #065f46;
                border-color: #10b981;
                color: #10b981;
            }

            .table {
                --bs-table-bg: #1a1a1a;
                --bs-table-color: #f8f9fa;
                --bs-table-border-color: #374151;
            }

            .table-light {
                --bs-table-bg: var(--table-head);
                --bs-table-color: #f8f9fa;
            }

            .table-primary {
                --bs-table-bg: var(--highlight-color);
                --bs-table-color: #f8f9fa;
            }

            .table-hover > tbody > tr:hover {
                --bs-table-hover-bg: #252525;
                --bs-table-hover-color: #f8f9fa;
            }

            .table-hover > tbody > tr.row-group-hover,
            .table-hover > tbody > tr.row-group-hover td {
                background-color: #252525 !important;
                color: #f8f9fa !important;
            }

            .btn-secondary {
                background-color: #374151;
                border-color: #4b5563;
                color: #f8f9fa;
            }

            .btn-secondary:hover {
                background-color: #4b5563;
                border-color: #6b7280;
                color: #ffffff;
            }

            /* ==================== INTRO ANIMATION STYLES ==================== */
            .intro-stage {
                margin-top: 2rem;
                background: linear-gradient(180deg, rgba(10, 20, 40, 0.95) 0%, rgba(15, 31, 50, 0.9) 100%);
                border: 2px solid var(--highlight-color);
                border-radius: 12px;
                padding: 30px 25px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 580px;
                position: relative;
                overflow: hidden;
            }

            .intro-stage::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: 
                    linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px),
                    linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px);
                background-size: 30px 30px;
                pointer-events: none;
                z-index: 0;
            }

            .intro-stage::after {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: 
                    radial-gradient(circle at 20% 80%, rgba(236, 72, 153, 0.08) 0%, transparent 25%),
                    radial-gradient(circle at 80% 20%, rgba(34, 211, 238, 0.08) 0%, transparent 25%),
                    radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.05) 0%, transparent 35%);
                animation: orbFloat 20s ease-in-out infinite;
                pointer-events: none;
                z-index: 0;
            }

            .intro-title {
                position: absolute;
                top: 15px;
                left: 20px;
                font-family: 'Arial', sans-serif;
                font-size: 18px;
                font-weight: 700;
                color: #f8f9fa;
                text-transform: titlecase;
                letter-spacing: 2px;
                text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
                z-index: 20;
                /* border-bottom: 2px solid var(--highlight-color); */
                background-color: #011931;
                /* padding-bottom: 5px; */
            }

            .intro-canvas {
                position: relative;
                width: 100%;
                height: 400px;
                z-index: 1;
            }

            /* Traveler (happy emoji + suitcase) */
            .traveler {
                position: absolute;
                left: -150px;
                top: 50%;
                transform: translateY(-50%);
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
                opacity: 0;
                transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1);
                z-index: 10;
            }

            .traveler.enter {
                left: 60px;
                opacity: 1;
            }

            .traveler.exit {
                opacity: 0;
                transform: translateY(-50%) scale(0.8);
            }

            .traveler .happy-emoji {
                font-size: 64px;
                filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.5));
                animation: bounce 2s ease-in-out infinite;
            }

            .traveler.thinking .happy-emoji {
                animation: none;
            }

            .traveler .suitcase-emoji {
                font-size: 48px;
                filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.5));
            }

            @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-10px); }
            }

            /* Facepalm emoji */
            .facepalm-container {
                position: absolute;
                right: 60px;
                top: 50%;
                transform: translateY(-50%);
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
                opacity: 0;
                z-index: 10;
            }

            .facepalm-container.visible {
                opacity: 1;
            }

            .facepalm-emoji {
                font-size: 64px;
                filter: drop-shadow(0 0 15px rgba(236, 72, 153, 0.5));
                animation: facepalm 1s ease-in-out;
            }

            @keyframes facepalm {
                0% { transform: scale(0.5) rotate(-10deg); opacity: 0; }
                50% { transform: scale(1.2) rotate(5deg); opacity: 1; }
                100% { transform: scale(1) rotate(0deg); opacity: 1; }
            }

            /* Manga-style sweat drops */
            .sweat-drops {
                position: absolute;
                top: -15px;
                right: 8px;
                font-size: 16px;
                animation: sweatDrop 0.8s ease-in-out infinite;
            }

            @keyframes sweatDrop {
                0%, 100% { transform: translateY(0); opacity: 1; }
                50% { transform: translateY(5px); opacity: 0.7; }
            }

            /* Manga exclamation marks */
            .manga-exclaim {
                position: absolute;
                font-family: 'Comic Sans MS', cursive, sans-serif;
                font-size: 28px;
                font-weight: bold;
                color: #ff6b6b;
                text-shadow: 2px 2px 0 #fff, -1px -1px 0 #000;
                animation: exclaim 0.5s ease-in-out infinite alternate;
            }

            .manga-exclaim.exclaim-1 { top: -30px; right: 20px; }
            .manga-exclaim.exclaim-2 { top: -20px; right: -10px; transform: rotate(15deg); }

            @keyframes exclaim {
                0% { transform: scale(1) rotate(-5deg); }
                100% { transform: scale(1.1) rotate(5deg); }
            }

            /* Manga action lines overlay */
            .action-lines {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                opacity: 0;
                z-index: 20;
                background: radial-gradient(ellipse at center, transparent 30%, rgba(0,0,0,0.1) 70%);
                transition: opacity 0.3s ease;
            }

            .action-lines.visible {
                opacity: 1;
                animation: actionPulse 0.3s ease-out;
            }

            @keyframes actionPulse {
                0% { transform: scale(0.95); }
                100% { transform: scale(1); }
            }

            /* Manga sparkles */
            .manga-sparkle {
                position: absolute;
                font-size: 16px;
                animation: sparkleFloat 1s ease-in-out infinite;
                pointer-events: none;
            }

            .manga-sparkle:nth-child(1) { top: 10%; left: 15%; animation-delay: 0s; }
            .manga-sparkle:nth-child(2) { top: 20%; right: 20%; animation-delay: 0.3s; }
            .manga-sparkle:nth-child(3) { bottom: 30%; left: 10%; animation-delay: 0.6s; }
            .manga-sparkle:nth-child(4) { bottom: 20%; right: 15%; animation-delay: 0.9s; }

            @keyframes sparkleFloat {
                0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
                50% { transform: scale(1.3) rotate(180deg); opacity: 1; }
            }

            /* Manga-style speech bubble for expense system */
            .manga-bubble {
                position: relative;
                background: #fff;
                border: 3px solid #1a1a1a;
                border-radius: 20px;
                padding: 8px 16px;
                font-family: 'Comic Sans MS', cursive, sans-serif;
                font-weight: bold;
                color: #1a1a1a;
                box-shadow: 4px 4px 0 #1a1a1a;
            }

            .manga-bubble::after {
                content: '';
                position: absolute;
                bottom: -15px;
                left: 50%;
                transform: translateX(-50%);
                width: 0;
                height: 0;
                border-left: 10px solid transparent;
                border-right: 10px solid transparent;
                border-top: 15px solid #1a1a1a;
            }

            .manga-bubble::before {
                content: '';
                position: absolute;
                bottom: -10px;
                left: 50%;
                transform: translateX(-50%);
                width: 0;
                height: 0;
                border-left: 8px solid transparent;
                border-right: 8px solid transparent;
                border-top: 12px solid #fff;
                z-index: 1;
            }

            /* Sketch-style border for intro */
            .intro-stage {
                border: 2px solid var(--highlight-color) !important;
                box-shadow: 5px 5px 0 rgba(0,0,0,0.3);
            }

            @keyframes titlePop {
                0% { transform: scale(0.5); opacity: 0; }
                70% { transform: scale(1.1); }
                100% { transform: scale(1); opacity: 1; }
            }

            /* Receipts container */
            .receipts-container {
                position: absolute;
                left: 20px;
                top: 50%;
                transform: translateY(-50%);
                width: 320px;
                height: 300px;
                z-index: 5;
            }

            .receipts-bubble {
                position: absolute;
                top: -45px;
                left: 50%;
                transform: translateX(-50%);
                white-space: nowrap;
                font-size: 13px;
                opacity: 0;
                transition: opacity 0.5s ease;
                z-index: 10;
            }

            .receipts-bubble.visible {
                opacity: 1;
            }

            /* Right arrow pointing to expense system */
            .expense-arrow {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                opacity: 0;
                z-index: 6;
                transition: opacity 0.5s ease;
            }

            .expense-arrow.visible {
                opacity: 1;
            }

            .expense-arrow svg {
                width: 80px;
                height: 40px;
                filter: drop-shadow(0 0 10px rgba(244, 114, 182, 0.6));
            }

            /* Expense system container */
            .expense-system-container {
                position: absolute;
                right: 20px;
                top: 50%;
                transform: translateY(-50%);
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 12px;
                opacity: 0;
                z-index: 6;
                transition: opacity 0.6s ease;
            }

            .expense-system-container.visible {
                opacity: 1;
            }

            .expense-system-label {
                font-family: 'Comic Sans MS', cursive, sans-serif;
                font-size: 13px;
                font-weight: bold;
                letter-spacing: 0.5px;
                margin-bottom: 10px;
            }

            .expense-system-img {
                width: 280px;
                height: auto;
                border-radius: 8px;
                box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5), 0 0 20px rgba(34, 211, 238, 0.2);
                border: 2px solid rgba(34, 211, 238, 0.3);
            }

            .intro-question {
                position: absolute;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                text-align: center;
                opacity: 0;
                transition: opacity 0.6s ease;
                z-index: 15;
            }

            .intro-question.visible {
                opacity: 1;
            }

            .intro-question p {
                font-family: 'Comic Sans MS', cursive, sans-serif;
                font-size: 16px;
                font-weight: bold;
                color: #fef3c7;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
                margin: 0;
                padding: 10px 20px;
                background: rgba(15, 23, 42, 0.8);
                border-radius: 12px;
                border: 2px solid rgba(251, 191, 36, 0.5);
                box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
            }

            .receipt-img {
                position: absolute;
                width: 100px;
                height: auto;
                border-radius: 2px;
                border: 2px solid #1a1a1a;
                box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.4);
                opacity: 0;
                transition: all 0.6s ease;
            }

            .receipt-img.visible {
                opacity: 1;
            }

            .receipt-img.float {
                animation: float 3s ease-in-out infinite;
            }

            @keyframes float {
                0%, 100% { transform: rotate(var(--rotation)) translateY(0); }
                50% { transform: rotate(var(--rotation)) translateY(-8px); }
            }

            .receipt-img:nth-child(1) { --rotation: -5deg; top: 10px; left: 10px; width: 90px; animation-delay: 0s; }
            .receipt-img:nth-child(2) { --rotation: 3deg; top: 0px; left: 110px; width: 120px; animation-delay: 0.4s; }
            .receipt-img:nth-child(3) { --rotation: -2deg; top: 40px; left: 240px; width: 80px; animation-delay: 0.8s; }
            .receipt-img:nth-child(4) { --rotation: 8deg; top: 140px; left: 30px; width: 70px; animation-delay: 1.2s; }
            .receipt-img:nth-child(5) { --rotation: -4deg; top: 160px; left: 120px; width: 85px; animation-delay: 0.2s; }
            .receipt-img:nth-child(6) { --rotation: 5deg; top: 130px; left: 220px; width: 90px; animation-delay: 0.6s; }
            .receipt-img:nth-child(7) { --rotation: -6deg; top: 250px; left: 80px; width: 75px; animation-delay: 1s; }
            .receipt-img:nth-child(8) { --rotation: 4deg; top: 240px; left: 180px; width: 80px; animation-delay: 1.4s; }

            /* ==================== INTRO ANIMATION RESPONSIVE STYLES ==================== */
            @media (max-width: 1024px) {
                .intro-stage {
                    min-height: 580px;
                    padding: 20px 15px;
                }

                .intro-canvas {
                    height: auto;
                    min-height: 480px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: flex-start;
                    padding-top: 30px;
                }

                /* Traveler - adjust for mobile */
                .traveler {
                    position: relative;
                    left: auto;
                    top: auto;
                    transform: none;
                    opacity: 0;
                    margin-bottom: 15px;
                }

                .traveler.enter {
                    left: auto;
                    opacity: 1;
                }

                .traveler.exit {
                    transform: scale(0.8);
                }

                .traveler .happy-emoji {
                    font-size: 48px;
                }

                .traveler .suitcase-emoji {
                    font-size: 36px;
                }

                /* Facepalm container - move to lower part for mobile */
                .facepalm-container {
                    position: absolute;
                    right: auto;
                    left: 50%;
                    top: auto;
                    bottom: 100px;
                    transform: translateX(-50%);
                }

                .facepalm-emoji {
                    font-size: 48px;
                }

                /* Receipts container - top of the canvas */
                .receipts-container {
                    position: relative;
                    left: auto;
                    top: auto;
                    transform: none;
                    width: 100%;
                    max-width: 280px;
                    height: 200px;
                    margin: 0 auto 10px auto;
                }

                .receipts-bubble {
                    top: -35px;
                    font-size: 11px;
                }

                .receipt-img {
                    width: 60px !important;
                }

                /* Reposition receipt images for mobile grid */
                .receipt-img:nth-child(1) { top: 5px; left: 5px; width: 55px !important; }
                .receipt-img:nth-child(2) { top: 0px; left: 70px; width: 70px !important; }
                .receipt-img:nth-child(3) { top: 20px; left: 150px; width: 50px !important; }
                .receipt-img:nth-child(4) { top: 75px; left: 15px; width: 45px !important; }
                .receipt-img:nth-child(5) { top: 85px; left: 75px; width: 55px !important; }
                .receipt-img:nth-child(6) { top: 70px; left: 140px; width: 55px !important; }
                .receipt-img:nth-child(7) { top: 135px; left: 45px; width: 50px !important; }
                .receipt-img:nth-child(8) { top: 130px; left: 110px; width: 50px !important; }

                /* Expense arrow - rotate to point down */
                .expense-arrow {
                    position: relative;
                    left: auto;
                    top: auto;
                    transform: rotate(90deg);
                    margin: 15px 0;
                }

                .expense-arrow svg {
                    width: 60px;
                    height: 30px;
                }

                /* Expense system container - bottom */
                .expense-system-container {
                    position: relative;
                    right: auto;
                    top: auto;
                    transform: none;
                    margin-top: 10px;
                }

                .expense-system-label {
                    font-size: 11px;
                }

                .expense-system-img {
                    width: 200px;
                }

                /* Intro question - floating centered for mobile */
                .intro-question {
                    position: absolute;
                    bottom: 200px;
                    left: 50%;
                    transform: translateX(-50%);
                    width: calc(100% - 30px);
                    max-width: 320px;
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }

                .intro-question p {
                    font-size: 13px;
                    padding: 8px 12px;
                }
            }

            /* Extra small devices */
            @media (max-width: 480px) {
                .intro-stage {
                    min-height: 520px;
                    padding: 15px 10px;
                }

                .intro-canvas {
                    min-height: 420px;
                }

                .intro-title {
                    font-size: 14px;
                    top: 10px;
                    left: 15px;
                }

                .traveler .happy-emoji {
                    font-size: 40px;
                }

                .traveler .suitcase-emoji {
                    font-size: 30px;
                }

                .facepalm-emoji {
                    font-size: 40px;
                }

                .facepalm-container {
                    bottom: 80px;
                }

                .receipts-container {
                    max-width: 220px;
                    height: 170px;
                }

                .receipt-img:nth-child(1) { top: 5px; left: 0px; width: 45px !important; }
                .receipt-img:nth-child(2) { top: 0px; left: 50px; width: 60px !important; }
                .receipt-img:nth-child(3) { top: 15px; left: 120px; width: 45px !important; }
                .receipt-img:nth-child(4) { top: 60px; left: 10px; width: 40px !important; }
                .receipt-img:nth-child(5) { top: 70px; left: 55px; width: 45px !important; }
                .receipt-img:nth-child(6) { top: 55px; left: 110px; width: 50px !important; }
                .receipt-img:nth-child(7) { top: 115px; left: 30px; width: 45px !important; }
                .receipt-img:nth-child(8) { top: 110px; left: 85px; width: 45px !important; }

                .expense-system-img {
                    width: 180px;
                }

                .intro-question {
                    bottom: 200px;
                    width: calc(100% - 20px);
                }

                .intro-question p {
                    font-size: 12px;
                    padding: 6px 10px;
                }
            }

            /* ==================== MAIN WORKFLOW ANIMATION STYLES ==================== */
            .teaser-stage {
                margin-top: 2rem;
                background: linear-gradient(180deg, rgba(10, 20, 40, 0.95) 0%, rgba(15, 31, 50, 0.9) 100%);
                border: 2px solid;
                border-color: var(--highlight-color);
                border-radius: 12px;
                padding: 30px 25px;
                display: flex;
                flex-direction: column;
                align-items: center;
                min-height: 580px;
                position: relative;
                overflow: hidden;
                opacity: 0;
                transition: opacity 1s ease;
            }

            .teaser-stage.visible {
                opacity: 1;
            }

            .teaser-stage::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: 
                    linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px),
                    linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px);
                background-size: 30px 30px;
                pointer-events: none;
                z-index: 0;
            }

            .teaser-stage::after {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: 
                    radial-gradient(circle at 20% 80%, rgba(236, 72, 153, 0.08) 0%, transparent 25%),
                    radial-gradient(circle at 80% 20%, rgba(34, 211, 238, 0.08) 0%, transparent 25%),
                    radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.05) 0%, transparent 35%);
                animation: orbFloat 20s ease-in-out infinite;
                pointer-events: none;
                z-index: 0;
            }

            @keyframes orbFloat {
                0%, 100% { transform: translate(0, 0) rotate(0deg); }
                33% { transform: translate(2%, -2%) rotate(5deg); }
                66% { transform: translate(-2%, 2%) rotate(-5deg); }
            }

            .task-section {
                text-align: center;
                opacity: 0;
                transform: translateY(-15px);
                transition: all 0.5s ease;
                margin-top: 12px;
                z-index: 1;
            }

            .task-section.visible {
                opacity: 1;
                transform: translateY(0);
            }

            .task-box {
                background: linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);
                border: 1px solid rgba(251, 191, 36, 0.5);
                border-radius: 8px;
                padding: 14px 22px;
                display: inline-block;
                box-shadow: 
                    0 0 20px rgba(251, 191, 36, 0.2),
                    inset 0 0 20px rgba(251, 191, 36, 0.05);
                backdrop-filter: blur(10px);
            }

            .task-label {
                font-family: 'Orbitron', sans-serif;
                font-size: 10px;
                font-weight: 600;
                color: #fbbf24;
                margin-bottom: 6px;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                letter-spacing: 2px;
                text-transform: uppercase;
            }

            .task-text {
                font-family: 'Inter', sans-serif;
                font-size: 13px;
                font-weight: 500;
                color: #fef3c7;
                line-height: 1.5;
            }

            .down-arrow {
                margin: 14px 0;
                opacity: 0;
                transition: opacity 0.5s ease;
                z-index: 1;
            }

            .down-arrow.visible {
                opacity: 1;
            }

            .down-arrow svg {
                filter: drop-shadow(0 0 12px rgba(168, 85, 247, 0.6));
            }

            .down-arrow svg path {
                stroke-dasharray: 100;
                stroke-dashoffset: 100;
                transition: stroke-dashoffset 0.8s ease;
            }

            .down-arrow.animated svg path {
                stroke-dashoffset: 0;
            }

            .robot-section {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
                margin-bottom: 12px;
                z-index: 1;
            }

            .decompose-label {
                font-family: 'Orbitron', sans-serif;
                font-size: 10px;
                font-weight: 500;
                color: #c4b5fd;
                opacity: 0;
                transition: all 0.4s ease;
                text-align: center;
                text-shadow: 0 0 20px rgba(196, 181, 253, 0.5);
                min-width: 200px;
                letter-spacing: 1px;
            }

            .decompose-label.visible {
                opacity: 1;
            }

            .decompose-label.processing {
                color: #67e8f9;
                text-shadow: 0 0 25px rgba(103, 232, 249, 0.7);
                animation: labelPulse 0.8s ease-in-out infinite;
            }

            @keyframes labelPulse {
                0%, 100% { opacity: 0.8; }
                50% { opacity: 1; }
            }

            .robot-container {
                position: relative;
                opacity: 0;
                transform: scale(0.5);
                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            }

            .robot-container.visible {
                opacity: 1;
                transform: scale(1);
            }

            .main-robot-emoji {
                font-size: 36px;
                display: block;
                filter: drop-shadow(0 0 15px rgba(139, 92, 246, 0.5));
            }

            .robot-container.thinking .main-robot-emoji {
                animation: robotThink 0.6s ease-in-out infinite;
            }

            .robot-container.working .main-robot-emoji {
                animation: robotWork 0.4s ease-in-out infinite;
            }

            @keyframes robotThink {
                0%, 100% { transform: rotate(-6deg); }
                50% { transform: rotate(6deg); }
            }

            @keyframes robotWork {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.1); }
            }

            .robot-sparkle {
                position: absolute;
                font-size: 12px;
                opacity: 0;
            }

            .robot-container.working .robot-sparkle {
                animation: sparkle 0.8s ease-in-out infinite;
            }

            .robot-sparkle:nth-child(2) { top: -8px; right: -4px; animation-delay: 0s; }
            .robot-sparkle:nth-child(3) { top: 0; left: -12px; animation-delay: 0.3s; }
            .robot-sparkle:nth-child(4) { bottom: 0; right: -8px; animation-delay: 0.5s; }

            @keyframes sparkle {
                0%, 100% { opacity: 0; transform: scale(0); }
                50% { opacity: 1; transform: scale(1); }
            }

            .branch-section {
                display: flex;
                justify-content: center;
                align-items: flex-start;
                gap: 12px;
                margin: 8px 0 14px 0;
                opacity: 0;
                transition: opacity 0.5s ease;
                z-index: 1;
            }

            .branch-section.visible {
                opacity: 1;
            }

            .branch-arrow {
                width: 150px;
                height: 28px;
                display: flex;
                justify-content: center;
                align-items: center;
                position: relative;
            }

            .branch-arrow::before {
                content: '';
                position: absolute;
                top: 0;
                left: 50%;
                width: 2px;
                height: 0;
                background: linear-gradient(to bottom, #a78bfa, #22d3ee);
                border-radius: 1px;
                transition: height 0.4s ease, background 0.3s ease, opacity 0.3s ease, box-shadow 0.3s ease;
            }

            .branch-arrow::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 0;
                height: 0;
                border-left: 5px solid transparent;
                border-right: 5px solid transparent;
                border-top: 7px solid #22d3ee;
                opacity: 0;
                transition: opacity 0.3s ease 0.3s, border-top-color 0.3s ease, filter 0.3s ease;
            }

            .branch-section.animated .branch-arrow::before {
                height: 20px;
            }

            .branch-section.animated .branch-arrow::after {
                opacity: 1;
            }

            .branch-arrow.dimmed::before {
                background: linear-gradient(to bottom, #4b5563, #374151) !important;
                opacity: 0.4;
            }

            .branch-arrow.dimmed::after {
                border-top-color: #374151 !important;
                opacity: 0.4 !important;
            }

            .branch-arrow.highlighted::before {
                background: linear-gradient(to bottom, #f472b6, #22d3ee) !important;
                box-shadow: 0 0 12px rgba(34, 211, 238, 0.6);
            }

            .branch-arrow.highlighted::after {
                border-top-color: #22d3ee !important;
                filter: drop-shadow(0 0 8px rgba(34, 211, 238, 0.8));
            }

            .branch-arrow-spacer {
                width: 35px;
            }

            .data-columns-container {
                display: flex;
                align-items: flex-start;
                gap: 14px;
                width: 100%;
                justify-content: center;
                z-index: 1;
            }

            .data-column {
                display: flex;
                flex-direction: column;
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s ease;
            }

            .data-column.visible {
                opacity: 1;
                transform: translateY(0);
            }

            .data-column.pending {
                opacity: 0.4;
                filter: grayscale(0.3);
            }

            .data-column.active {
                opacity: 1;
                filter: none;
            }

            .data-column.completed {
                opacity: 0.6;
            }

            .data-label {
                font-family: 'Orbitron', sans-serif;
                font-size: 10px;
                font-weight: 500;
                color: #22d3ee;
                margin-bottom: 10px;
                display: flex;
                align-items: center;
                gap: 6px;
                text-shadow: 0 0 15px rgba(34, 211, 238, 0.5);
                letter-spacing: 1px;
            }

            .data-label-icon {
                font-size: 12px;
            }

            .workflow-cards {
                display: flex;
                flex-direction: column;
                border: 1px solid rgba(139, 92, 246, 0.3);
                background: rgba(15, 23, 42, 0.8);
                border-radius: 8px;
                width: 150px;
                overflow: hidden;
                box-shadow: 
                    0 4px 20px rgba(0, 0, 0, 0.3),
                    inset 0 0 30px rgba(139, 92, 246, 0.03);
                backdrop-filter: blur(10px);
            }

            .workflow-card {
                padding: 10px 10px;
                font-size: 11px;
                line-height: 1.4;
                transition: all 0.4s ease;
                position: relative;
                border-bottom: 1px solid rgba(139, 92, 246, 0.15);
                display: flex;
                align-items: flex-start;
                gap: 8px;
            }

            .workflow-card:last-child {
                border-bottom: none;
            }

            .card-icon {
                font-size: 13px;
                flex-shrink: 0;
            }

            .card-text {
                flex: 1;
                font-weight: 400;
            }

            .workflow-card.pending {
                background: transparent;
                color: #64748b;
            }

            .workflow-card.pending .card-icon {
                filter: grayscale(1);
                opacity: 0.5;
            }

            .workflow-card.processing {
                background: linear-gradient(90deg, rgba(34, 211, 238, 0.2) 0%, rgba(139, 92, 246, 0.3) 50%, rgba(34, 211, 238, 0.2) 100%);
                background-size: 200% 100%;
                animation: shimmer 1.2s ease-in-out infinite;
                color: #e0f2fe;
                border-color: rgba(34, 211, 238, 0.4);
            }

            @keyframes shimmer {
                0% { background-position: 200% 0; }
                100% { background-position: -200% 0; }
            }

            .workflow-card.processing .card-icon {
                animation: iconBounce 0.5s ease-in-out infinite;
            }

            @keyframes iconBounce {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.15); }
            }

            .workflow-card.completed {
                background: linear-gradient(135deg, rgba(168, 85, 247, 0.4) 0%, rgba(236, 72, 153, 0.3) 100%);
                color: #fdf4ff;
                border-color: rgba(168, 85, 247, 0.4);
            }

            .workflow-card.completed::after {
                content: '✓';
                position: absolute;
                right: 8px;
                top: 50%;
                transform: translateY(-50%);
                font-size: 11px;
                font-weight: bold;
                color: #67e8f9;
                text-shadow: 0 0 10px rgba(103, 232, 249, 0.8);
            }

            .more-indicator {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                font-family: 'Orbitron', sans-serif;
                font-size: 16px;
                font-weight: 600;
                color: #64748b;
                padding: 0 10px;
                opacity: 0;
                transition: opacity 0.5s ease;
                align-self: center;
                margin-top: 25px;
            }

            .more-indicator.visible {
                opacity: 1;
                animation: pulse 2s ease-in-out infinite;
            }

            @keyframes pulse {
                0%, 100% { opacity: 0.3; color: #64748b; }
                50% { opacity: 1; color: #c4b5fd; }
            }

            .hidden {
                display: none !important;
            }

            .workflow-main-container {
                display: flex;
                align-items: center;
                gap: 20px;
                width: 100%;
                z-index: 1;
                margin-top: 15px;
                justify-content: center;
            }

            /* Left side: Receipt thumbnails stack */
            .receipt-stack-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 6px;
                opacity: 0;
                transition: opacity 0.5s ease;
                flex-shrink: 0;
            }

            .receipt-stack-container.visible {
                opacity: 1;
            }

            .receipt-stack-label {
                font-family: 'Orbitron', sans-serif;
                font-size: 9px;
                color: #94a3b8;
                letter-spacing: 1px;
                text-transform: uppercase;
                margin-bottom: 4px;
            }

            .receipt-stack {
                display: flex;
                flex-direction: column;
                gap: 5px;
            }

            .receipt-thumb {
                width: 45px;
                height: 32px;
                object-fit: cover;
                border-radius: 3px;
                border: 2px solid #374151;
                opacity: 0.4;
                transition: all 0.3s ease;
                cursor: default;
            }

            /* Receipt thumb wrapper */
            .receipt-thumb-wrapper {
                position: relative;
                display: inline-block;
            }

            .receipt-thumb-wrapper.current .receipt-thumb {
                border-color: #22d3ee;
                opacity: 1;
                box-shadow: 0 0 12px rgba(34, 211, 238, 0.5);
                transform: scale(1.1);
            }

            .receipt-thumb-wrapper.completed .receipt-thumb {
                border-color: #10b981;
                opacity: 0.6;
                filter: brightness(0.7);
            }

            .receipt-check {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: #10b981;
                font-size: 16px;
                font-weight: bold;
                text-shadow: 0 0 4px rgba(0,0,0,0.9), 0 0 8px rgba(16, 185, 129, 0.6);
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .receipt-thumb-wrapper.completed .receipt-check {
                opacity: 1;
            }

            /* Center: Workflow column with thumbnail */
            .workflow-column-wrapper {
                display: flex;
                flex-direction: column;
                align-items: center;
                position: relative;
                flex-shrink: 0;
            }

            .current-receipt-thumbnail {
                position: absolute;
                top: 0px;
                right: -50px;
                width: 38px;
                height: auto;
                border-radius: 4px;
                border: 2px solid #22d3ee;
                box-shadow: 0 0 15px rgba(34, 211, 238, 0.4);
                opacity: 0;
                transition: opacity 0.3s ease;
                z-index: 10;
            }

            .current-receipt-thumbnail.visible {
                opacity: 1;
                animation: thumbPulse 2s ease-in-out infinite;
            }

            @keyframes thumbPulse {
                0%, 100% { box-shadow: 0 0 15px rgba(34, 211, 238, 0.4); }
                50% { box-shadow: 0 0 25px rgba(34, 211, 238, 0.7); }
            }

            .workflow-column-new {
                display: flex;
                flex-direction: column;
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.5s ease;
            }

            .workflow-column-new.visible {
                opacity: 1;
                transform: translateY(0);
            }

            .workflow-column-new .data-label {
                text-align: center;
                justify-content: center;
            }

            .workflow-column-new .workflow-cards {
                width: 160px;
            }

            /* Right side: Interactive display area */
            .interaction-display {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-width: 200px;
                min-height: 180px;
                position: relative;
                opacity: 0;
                transition: opacity 0.5s ease;
                flex-shrink: 0;
            }

            .interaction-display.visible {
                opacity: 1;
            }

            .interaction-label {
                font-family: 'Orbitron', sans-serif;
                font-size: 9px;
                color: #94a3b8;
                letter-spacing: 1px;
                text-transform: uppercase;
                margin-bottom: 8px;
                transition: color 0.3s ease;
            }

            .interaction-label.active {
                color: #22d3ee;
                text-shadow: 0 0 10px rgba(34, 211, 238, 0.5);
            }

            .interaction-content {
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                min-width: 200px;
                min-height: 150px;
            }

            .interaction-receipt {
                max-width: 280px;
                max-height: 140px;
                object-fit: contain;
                border-radius: 6px;
                border: 2px solid rgba(139, 92, 246, 0.4);
                box-shadow: 0 4px 30px rgba(0, 0, 0, 0.4);
                opacity: 0;
                transition: all 0.4s ease;
                transform: scale(0.9);
                position: absolute;
            }

            .interaction-receipt.visible {
                opacity: 1;
                transform: scale(1);
            }

            .interaction-system {
                max-width: 260px;
                max-height: 150px;
                object-fit: contain;
                border-radius: 8px;
                border: 2px solid rgba(34, 211, 238, 0.4);
                box-shadow: 0 4px 30px rgba(0, 0, 0, 0.4), 0 0 20px rgba(34, 211, 238, 0.2);
                opacity: 0;
                transition: all 0.4s ease;
                transform: scale(0.9);
                position: absolute;
            }

            .interaction-system.visible {
                opacity: 1;
                transform: scale(1);
            }

            /* Cursor animation */
            .cursor-icon {
                position: absolute;
                width: 30px;
                height: 30px;
                opacity: 0;
                transition: opacity 0.3s ease;
                filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.7));
                pointer-events: none;
                z-index: 20;
                top: 50%;
                left: 50%;
            }

            .cursor-icon.visible {
                opacity: 1;
            }

            .cursor-icon.animating {
                animation: cursorMove 2s ease-in-out infinite;
            }

            @keyframes cursorMove {
                0% { transform: translate(-20px, -30px); }
                20% { transform: translate(30px, 10px); }
                40% { transform: translate(50px, 40px); }
                60% { transform: translate(20px, 60px); }
                80% { transform: translate(-10px, 20px); }
                100% { transform: translate(-20px, -30px); }
            }

            /* Click effect on cursor */
            .cursor-icon.animating::after {
                content: '';
                position: absolute;
                width: 8px;
                height: 8px;
                background: rgba(34, 211, 238, 0.6);
                border-radius: 50%;
                top: 0;
                left: 0;
                animation: clickPulse 0.5s ease-out infinite;
            }

            @keyframes clickPulse {
                0% { transform: scale(0); opacity: 1; }
                100% { transform: scale(3); opacity: 0; }
            }

            /* Arrow between workflow and interaction */
            .workflow-arrow {
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0;
                transition: opacity 0.3s ease;
                align-self: center;
                flex-shrink: 0;
            }

            .workflow-arrow.visible {
                opacity: 1;
            }

            .workflow-arrow svg {
                width: 40px;
                height: 24px;
                filter: drop-shadow(0 0 8px rgba(139, 92, 246, 0.5));
            }

            /* Processing indicator on interaction display */
            .processing-indicator {
                position: absolute;
                top: 10px;
                right: 10px;
                display: flex;
                align-items: center;
                gap: 6px;
                background: rgba(15, 23, 42, 0.9);
                padding: 4px 10px;
                border-radius: 12px;
                border: 1px solid rgba(34, 211, 238, 0.4);
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .processing-indicator.visible {
                opacity: 1;
            }

            .processing-indicator .dot {
                width: 6px;
                height: 6px;
                background: #22d3ee;
                border-radius: 50%;
                animation: processDot 1s ease-in-out infinite;
            }

            .processing-indicator .dot:nth-child(2) { animation-delay: 0.2s; }
            .processing-indicator .dot:nth-child(3) { animation-delay: 0.4s; }

            @keyframes processDot {
                0%, 100% { opacity: 0.3; transform: scale(0.8); }
                50% { opacity: 1; transform: scale(1.2); }
            }

            .processing-indicator span {
                font-family: 'Orbitron', sans-serif;
                font-size: 8px;
                color: #22d3ee;
                letter-spacing: 1px;
            }

            /* ==================== TEASER/WORKFLOW ANIMATION RESPONSIVE STYLES ==================== */
            @media (max-width: 1024px) {
                .teaser-stage {
                    min-height: auto;
                    padding: 20px 15px;
                }

                .task-section {
                    margin-top: 25px;
                }

                .task-box {
                    padding: 10px 16px;
                }

                .task-label {
                    font-size: 9px;
                }

                .task-text {
                    font-size: 12px;
                }

                .down-arrow {
                    margin: 10px 0;
                }

                .down-arrow svg {
                    width: 16px;
                    height: 32px;
                }

                .decompose-label {
                    font-size: 9px;
                    min-width: 150px;
                }

                .main-robot-emoji {
                    font-size: 28px;
                }

                /* Main workflow container - vertical layout for mobile */
                .workflow-main-container {
                    flex-direction: column;
                    align-items: center;
                    gap: 15px;
                    margin-top: 10px;
                }

                /* Receipt stack - horizontal on mobile */
                .receipt-stack-container {
                    order: 1;
                }

                .receipt-stack-label {
                    font-size: 8px;
                }

                .receipt-stack {
                    flex-direction: row;
                    gap: 8px;
                }

                .receipt-thumb {
                    width: 40px;
                    height: 28px;
                }

                .receipt-check {
                    font-size: 12px;
                }

                .more-indicator {
                    font-size: 10px !important;
                    margin-top: 3px !important;
                }

                /* Workflow column */
                .workflow-column-wrapper {
                    order: 2;
                }

                .current-receipt-thumbnail {
                    width: 32px;
                    right: -40px;
                    top: -5px;
                }

                .workflow-column-new .workflow-cards {
                    width: 200px;
                }

                .data-label {
                    font-size: 9px;
                    margin-bottom: 6px;
                }

                .data-label-icon {
                    font-size: 10px;
                }

                .workflow-card {
                    padding: 8px;
                    font-size: 10px;
                }

                .card-icon {
                    font-size: 11px;
                }

                /* Workflow arrow - rotate to point down */
                .workflow-arrow {
                    order: 3;
                    transform: rotate(90deg);
                }

                .workflow-arrow svg {
                    width: 30px;
                    height: 18px;
                }

                /* Interaction display */
                .interaction-display {
                    order: 4;
                    min-width: 180px;
                    min-height: 140px;
                }

                .interaction-label {
                    font-size: 8px;
                }

                .interaction-content {
                    min-width: 180px;
                    min-height: 120px;
                }

                .interaction-receipt {
                    max-width: 200px;
                    max-height: 100px;
                }

                .interaction-system {
                    max-width: 180px;
                    max-height: 110px;
                }

                .cursor-icon {
                    width: 24px;
                    height: 24px;
                }

                .processing-indicator {
                    padding: 3px 8px;
                }

                .processing-indicator .dot {
                    width: 5px;
                    height: 5px;
                }

                .processing-indicator span {
                    font-size: 7px;
                }
            }

            @media (max-width: 480px) {
                .teaser-stage {
                    padding: 15px 10px;
                }

                .task-box {
                    padding: 8px 12px;
                }

                .task-label {
                    font-size: 8px;
                }

                .task-text {
                    font-size: 11px;
                }

                .decompose-label {
                    font-size: 8px;
                }

                .main-robot-emoji {
                    font-size: 24px;
                }

                .receipt-thumb {
                    width: 35px;
                    height: 24px;
                }

                .workflow-column-new .workflow-cards {
                    width: 180px;
                }

                .workflow-card {
                    padding: 6px;
                    font-size: 9px;
                }

                .card-icon {
                    font-size: 10px;
                }

                .current-receipt-thumbnail {
                    width: 28px;
                    right: -35px;
                }

                .interaction-display {
                    min-width: 160px;
                    min-height: 120px;
                }

                .interaction-content {
                    min-width: 160px;
                    min-height: 100px;
                }

                .interaction-receipt {
                    max-width: 160px;
                    max-height: 80px;
                }

                .interaction-system {
                    max-width: 150px;
                    max-height: 90px;
                }

                .cursor-icon {
                    width: 20px;
                    height: 20px;
                }
            }

            /* ==================== GALLERY STYLES ==================== */
            .gallery-container {
                position: relative;
                background: linear-gradient(135deg, #0a1628 0%, #112240 100%);
                border: 2px solid var(--highlight-color);
                border-radius: 12px;
                padding: 20px;
                margin-bottom: 2rem;
                overflow: hidden;
            }

            .gallery-scroll-area {
                display: flex;
                gap: 16px;
                max-height: 500px;
                overflow-y: auto;
                padding-right: 8px;
            }

            .gallery-scroll-area::-webkit-scrollbar {
                width: 8px;
            }

            .gallery-scroll-area::-webkit-scrollbar-track {
                background: #0a1628;
                border-radius: 4px;
            }

            .gallery-scroll-area::-webkit-scrollbar-thumb {
                background: linear-gradient(180deg, var(--highlight-color) 0%, #0891b2 100%);
                border-radius: 4px;
            }

            .gallery-scroll-area::-webkit-scrollbar-thumb:hover {
                background: linear-gradient(180deg, #5eead4 0%, var(--highlight-color) 100%);
            }

            .gallery-columns-wrapper {
                display: flex;
                gap: 16px;
                align-items: flex-start;
            }

            .gallery-column {
                flex: 1;
                display: flex;
                flex-direction: column;
                gap: 16px;
                min-width: 0;
            }

            .gallery-item {
                position: relative;
                border-radius: 8px;
                overflow: hidden;
                cursor: pointer;
                transition: all 0.3s ease;
                background: #1a1a2e;
                border: 1px solid #2d3748;
            }

            .gallery-item:hover {
                transform: translateY(-4px);
                border-color: var(--highlight-color);
                box-shadow: 0 8px 32px rgba(21, 248, 210, 0.2);
            }

            .gallery-item img {
                width: 100%;
                height: auto;
                display: block;
                transition: transform 0.3s ease;
                cursor: pointer;
            }

            /* Show that items with images are clickable */
            .gallery-item:has(img) {
                cursor: pointer;
            }

            .gallery-item:has(img):hover::after {
                content: '🔍';
                position: absolute;
                top: 8px;
                right: 8px;
                font-size: 18px;
                background: rgba(0, 0, 0, 0.6);
                padding: 4px 8px;
                border-radius: 4px;
                z-index: 10;
            }

            .gallery-item:hover img,
            .gallery-item:hover .gallery-placeholder {
                transform: scale(1.02);
            }

            .gallery-placeholder {
                width: 100%;
                background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 50%, #1a2f4a 100%);
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
                transition: transform 0.3s ease;
                overflow: hidden;
            }

            .gallery-placeholder::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: 
                    linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.03) 50%, transparent 100%);
                animation: placeholderShimmer 2s ease-in-out infinite;
            }

            .gallery-placeholder::after {
                content: '📄';
                font-size: 32px;
                opacity: 0.4;
                z-index: 1;
            }

            /* Different placeholder colors for variety */
            .gallery-item:nth-child(3n+1) .gallery-placeholder {
                background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 50%, #1a2f4a 100%);
            }
            .gallery-item:nth-child(3n+2) .gallery-placeholder {
                background: linear-gradient(135deg, #2d3a4f 0%, #3d4a5f 50%, #252f3a 100%);
            }
            .gallery-item:nth-child(3n) .gallery-placeholder {
                background: linear-gradient(135deg, #1a3a4f 0%, #2a4a5f 50%, #152f3a 100%);
            }

            @keyframes placeholderShimmer {
                0% { transform: translateX(-100%); }
                100% { transform: translateX(100%); }
            }

            .gallery-item-overlay {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                padding: 12px;
                background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
                display: flex;
                flex-direction: column;
                gap: 4px;
                opacity: 0;
                transform: translateY(10px);
                transition: all 0.3s ease;
            }

            .gallery-item:hover .gallery-item-overlay {
                opacity: 1;
                transform: translateY(0);
            }

            .gallery-tag {
                font-size: 14px;
                font-weight: 600;
                color: #fff;
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            }

            .gallery-category {
                font-size: 11px;
                font-weight: 500;
                color: var(--highlight-color);
                background: rgba(21, 248, 210, 0.15);
                padding: 2px 8px;
                border-radius: 10px;
                width: fit-content;
                border: 1px solid rgba(21, 248, 210, 0.3);
            }

            .gallery-scroll-hint {
                position: absolute;
                right: 20px;
                top: 50%;
                transform: translateY(-50%);
                writing-mode: vertical-rl;
                text-orientation: mixed;
                display: flex;
                align-items: center;
                gap: 8px;
                color: #64748b;
                font-size: 12px;
                font-weight: 500;
                letter-spacing: 1px;
                pointer-events: none;
                opacity: 0.7;
            }

            .gallery-scroll-hint i {
                animation: scrollHintBounce 1.5s ease-in-out infinite;
            }

            @keyframes scrollHintBounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(5px); }
            }

            /* Gallery Modal */
            .gallery-modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                z-index: 9999;
                align-items: center;
                justify-content: center;
            }

            .gallery-modal.active {
                display: flex;
            }

            .gallery-modal-backdrop {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.9);
                backdrop-filter: blur(8px);
            }

            .gallery-modal-content {
                position: relative;
                max-width: 90vw;
                max-height: 90vh;
                display: flex;
                flex-direction: column;
                align-items: center;
                animation: modalZoomIn 0.3s ease;
            }

            @keyframes modalZoomIn {
                from {
                    opacity: 0;
                    transform: scale(0.9);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            .gallery-modal-content img {
                max-width: 100%;
                max-height: 80vh;
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                border: 2px solid var(--highlight-color);
            }

            .gallery-modal-close {
                position: absolute;
                top: -40px;
                right: 0;
                background: transparent;
                border: none;
                color: #fff;
                font-size: 36px;
                cursor: pointer;
                width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s ease;
                z-index: 10;
            }

            .gallery-modal-close:hover {
                color: var(--highlight-color);
                transform: rotate(90deg);
            }

            .gallery-modal-info {
                margin-top: 16px;
                text-align: center;
                color: #f8f9fa;
            }

            .gallery-modal-info h4 {
                margin: 0 0 8px 0;
                font-size: 20px;
                color: var(--highlight-color);
            }

            .gallery-modal-info p {
                margin: 0;
                font-size: 14px;
                color: #9ca3af;
            }

            /* Zoom Controls */
            .gallery-zoom-controls {
                position: absolute;
                top: -40px;
                left: 0;
                display: flex;
                gap: 8px;
                z-index: 10;
            }

            .gallery-zoom-btn {
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: #fff;
                font-size: 18px;
                cursor: pointer;
                width: 36px;
                height: 36px;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s ease;
            }

            .gallery-zoom-btn:hover {
                background: rgba(255, 255, 255, 0.2);
                border-color: var(--highlight-color);
                color: var(--highlight-color);
            }

            .gallery-zoom-btn:disabled {
                opacity: 0.3;
                cursor: not-allowed;
            }

            .gallery-zoom-level {
                color: rgba(255, 255, 255, 0.7);
                font-size: 12px;
                min-width: 50px;
                text-align: center;
                line-height: 36px;
            }

            /* Image Container for Zoom/Pan */
            .gallery-image-container {
                position: relative;
                overflow: hidden;
                max-width: 90vw;
                max-height: 80vh;
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                border: 2px solid var(--highlight-color);
                cursor: zoom-in;
            }

            .gallery-image-container.zoomed {
                cursor: grab;
            }

            .gallery-image-container.zoomed.panning {
                cursor: grabbing;
            }

            .gallery-modal-content img {
                display: block;
                max-width: 100%;
                max-height: 80vh;
                transform-origin: center center;
                transition: transform 0.1s ease-out;
                border-radius: 0;
                box-shadow: none;
                border: none;
            }

            .gallery-modal-content img.zoomed {
                max-width: none;
                max-height: none;
            }

            .gallery-zoom-hint {
                position: absolute;
                bottom: 10px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.7);
                color: #fff;
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 12px;
                opacity: 0;
                transition: opacity 0.3s ease;
                pointer-events: none;
            }

            .gallery-image-container:hover .gallery-zoom-hint {
                opacity: 1;
            }

            .gallery-image-container.zoomed .gallery-zoom-hint {
                display: none;
            }

            /* ==================== SIDEBAR NAVIGATION STYLES ==================== */
            .sidebar-nav {
                position: fixed;
                left: calc((100vw - 800px) / 2 - 280px);
                top: 50%;
                transform: translateY(-50%);
                z-index: 1000;
                padding: 16px 0;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
            }

            .sidebar-nav::before {
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                width: 3px;
                background: linear-gradient(180deg, 
                    transparent 0%, 
                    rgba(21, 248, 210, 0.15) 15%, 
                    rgba(21, 248, 210, 0.25) 50%, 
                    rgba(21, 248, 210, 0.15) 85%, 
                    transparent 100%);
                border-radius: 2px;
            }

            .sidebar-nav-item {
                position: relative;
                padding: 8px 14px 8px 18px;
                font-size: 13px;
                font-weight: 500;
                color: #6b7280;
                text-decoration: none;
                transition: all 0.25s ease;
                white-space: nowrap;
                letter-spacing: 0.02em;
            }

            .sidebar-nav-item::before {
                content: '';
                position: absolute;
                left: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 3px;
                height: 0;
                background: var(--highlight-color);
                border-radius: 2px;
                transition: all 0.25s ease;
                box-shadow: 0 0 12px rgba(21, 248, 210, 0.6);
            }

            .sidebar-nav-item:hover {
                color: #d1d5db;
                text-decoration: none;
            }

            .sidebar-nav-item:hover::before {
                height: 50%;
            }

            .sidebar-nav-item.active {
                color: var(--highlight-color);
                font-weight: 600;
            }

            .sidebar-nav-item.active::before {
                height: 100%;
            }

            .sidebar-nav-text {
                display: inline-block;
            }

            /* Medium screens - horizontal top nav bar (no hamburger menu) */
            @media (max-width: 1400px) and (min-width: 769px) {
                .sidebar-nav {
                    position: fixed;
                    left: 0;
                    right: 0;
                    top: 0;
                    bottom: auto;
                    transform: none;
                    flex-direction: row;
                    align-items: center;
                    justify-content: center;
                    padding: 0;
                    background: rgba(13, 13, 13, 0.95);
                    backdrop-filter: blur(10px);
                    border-bottom: 1px solid rgba(21, 248, 210, 0.3);
                    gap: 0;
                }

                .sidebar-nav::before {
                    display: none;
                }

                .mobile-menu-toggle {
                    display: none;
                }

                .nav-items-container {
                    display: flex;
                    flex-direction: row;
                    align-items: center;
                    justify-content: center;
                    max-height: none;
                    overflow: visible;
                }

                .sidebar-nav-item {
                    padding: 14px 16px;
                    font-size: 12px;
                }

                .sidebar-nav-item::before {
                    left: 50%;
                    top: auto;
                    bottom: 0;
                    transform: translateX(-50%);
                    width: 0;
                    height: 2px;
                }

                .sidebar-nav-item:hover::before {
                    width: 60%;
                    height: 2px;
                }

                .sidebar-nav-item.active::before {
                    width: 100%;
                    height: 2px;
                }

                body {
                    padding-top: 48px;
                }
            }

            /* Mobile menu toggle button - hidden on desktop */
            .mobile-menu-toggle {
                display: none;
            }

            /* Nav items container - default for desktop */
            .nav-items-container {
                display: contents;
            }

            /* Mobile top navigation bar */
            @media (max-width: 768px) {
                .sidebar-nav {
                    position: fixed;
                    left: 0;
                    right: 0;
                    top: 0;
                    bottom: auto;
                    transform: none;
                    flex-direction: column;
                    align-items: stretch;
                    padding: 0;
                    background: rgba(13, 13, 13, 0.98);
                    backdrop-filter: blur(10px);
                    border-bottom: 1px solid rgba(21, 248, 210, 0.3);
                    overflow: visible;
                }

                .sidebar-nav::before {
                    display: none;
                }

                /* Hamburger menu button */
                .mobile-menu-toggle {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    gap: 5px;
                    width: 44px;
                    height: 44px;
                    background: transparent;
                    border: none;
                    cursor: pointer;
                    padding: 10px;
                    margin-left: 10px;
                    z-index: 1001;
                }

                .hamburger-line {
                    display: block;
                    width: 22px;
                    height: 2px;
                    background: var(--highlight-color);
                    border-radius: 1px;
                    transition: all 0.3s ease;
                }

                /* Hamburger to X animation */
                .mobile-menu-toggle.active .hamburger-line:nth-child(1) {
                    transform: rotate(45deg) translate(5px, 5px);
                }

                .mobile-menu-toggle.active .hamburger-line:nth-child(2) {
                    opacity: 0;
                }

                .mobile-menu-toggle.active .hamburger-line:nth-child(3) {
                    transform: rotate(-45deg) translate(5px, -5px);
                }

                /* Nav items container - collapsible */
                .nav-items-container {
                    display: none;
                    flex-direction: column;
                    width: 100%;
                    max-height: 0;
                    overflow: hidden;
                    transition: max-height 0.3s ease;
                    background: rgba(13, 13, 13, 0.98);
                    border-top: 1px solid rgba(21, 248, 210, 0.15);
                }

                .nav-items-container.open {
                    display: flex;
                    max-height: 500px;
                }

                .sidebar-nav-item {
                    padding: 14px 20px;
                    font-size: 13px;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
                }

                .sidebar-nav-item:last-child {
                    border-bottom: none;
                }

                .sidebar-nav-item::before {
                    left: 0;
                    top: 50%;
                    bottom: auto;
                    transform: translateY(-50%);
                    width: 3px;
                    height: 0;
                }

                .sidebar-nav-item:hover::before {
                    height: 50%;
                    width: 3px;
                }

                .sidebar-nav-item.active::before {
                    height: 100%;
                    width: 3px;
                }

                /* Add top padding to body to account for fixed nav */
                body {
                    padding-top: 44px;
                }
            }

            @media (max-width: 480px) {
                .sidebar-nav-item {
                    padding: 12px 16px;
                    font-size: 12px;
                }

                .mobile-menu-toggle {
                    width: 40px;
                    height: 40px;
                }

                .hamburger-line {
                    width: 20px;
                }

                body {
                    padding-top: 40px;
                }
            }

            /* Responsive gallery - Tablet (2 columns) */
            @media (max-width: 992px) {
                .gallery-columns-wrapper {
                    flex-wrap: wrap;
                }
                
                .gallery-column {
                    flex: 0 0 calc(50% - 8px);
                    width: calc(50% - 8px);
                }
                
                .gallery-column:nth-child(3) {
                    flex: 0 0 100%;
                    width: 100%;
                    flex-direction: row;
                    flex-wrap: wrap;
                }
                
                .gallery-column:nth-child(3) .gallery-item {
                    width: calc(50% - 8px);
                }
            }

            /* Responsive gallery - Mobile (1 column) */
            @media (max-width: 576px) {
                .gallery-columns-wrapper {
                    flex-direction: column;
                }
                
                .gallery-column {
                    flex: 0 0 100%;
                    width: 100%;
                    flex-direction: column;
                }
                
                .gallery-column:nth-child(3) {
                    flex-direction: column;
                }
                
                .gallery-column:nth-child(3) .gallery-item {
                    width: 100%;
                }
                
                .gallery-item {
                    width: 100%;
                }
                
                .gallery-scroll-hint {
                    display: none;
                }

                /* Mobile modal - fit content, no extra padding */
                .gallery-modal-content {
                    max-width: 95vw;
                    max-height: 95vh;
                    padding: 0;
                }

                .gallery-modal-content img {
                    max-width: 95vw;
                    max-height: 85vh;
                    width: auto;
                    height: auto;
                    object-fit: contain;
                    border-radius: 8px;
                    border-width: 1px;
                }

                .gallery-modal-close {
                    top: -35px;
                    right: 0;
                    font-size: 28px;
                }

                .gallery-modal-info {
                    padding: 8px 0;
                }

                .gallery-modal-info h4 {
                    font-size: 16px;
                }

                .gallery-modal-info p {
                    font-size: 12px;
                }

                .gallery-zoom-controls {
                    top: -35px;
                }

                .gallery-zoom-btn {
                    width: 30px;
                    height: 30px;
                    font-size: 14px;
                }

                .gallery-zoom-level {
                    font-size: 10px;
                    line-height: 30px;
                    min-width: 40px;
                }

                .gallery-image-container {
                    max-width: 95vw;
                    max-height: 85vh;
                }
            }
        </style>
    </head>
    <body>

        <!-- Sidebar Navigation -->
        <nav class="sidebar-nav" id="sidebarNav">
            <!-- Mobile menu toggle button -->
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <div class="nav-items-container" id="navItemsContainer">
                <a href="#top" class="sidebar-nav-item active" data-section="top">
                    <span class="sidebar-nav-text">Top</span>
                </a>
                <a href="#news-section" class="sidebar-nav-item" data-section="news-section">
                    <span class="sidebar-nav-text">News</span>
                </a>
                <a href="#takeaways-section" class="sidebar-nav-item" data-section="takeaways-section">
                    <span class="sidebar-nav-text">Key Takeaways</span>
                </a>
                <a href="#abstract-section" class="sidebar-nav-item" data-section="abstract-section">
                    <span class="sidebar-nav-text">Abstract</span>
                </a>
                <a href="#task-workflow-section" class="sidebar-nav-item" data-section="task-workflow-section">
                    <span class="sidebar-nav-text">Task Workflow</span>
                </a>
                <a href="#stats-section" class="sidebar-nav-item" data-section="stats-section">
                    <span class="sidebar-nav-text">Statistics</span>
                </a>
                <a href="#infra-section" class="sidebar-nav-item" data-section="infra-section">
                    <span class="sidebar-nav-text">Infrastructure</span>
                </a>
                <a href="#method-section" class="sidebar-nav-item" data-section="method-section">
                    <span class="sidebar-nav-text">Method</span>
                </a>
                <a href="#results-section" class="sidebar-nav-item" data-section="results-section">
                    <span class="sidebar-nav-text">Results</span>
                </a>
                <a href="#citation" class="sidebar-nav-item" data-section="citation">
                    <span class="sidebar-nav-text">Citation</span>
                </a>
            </div>
        </nav>

        <div class="container" id="top">
            <div class="row text-center">
                <h1 class="mt-4">⏱️OS-Marathon</h1>
                <h3>Benchmarking Computer-Use Agents on Long-Horizon Repetitive Tasks</h3>
                <h4 class="mb-4 text-muted"></h4>
            </div>
            <div class="row text-center">
                <div class="col-sm-0 col-md-2"></div>
                <div class="col-sm-12 col-md-8">
                    <h6>
                        <a href="https://jingwu2121.github.io/" target="_blank"><nobr>Jing Wu<sup>1, *</sup></nobr></a> &emsp;
                        <a href="https://scholar.google.com/citations?view_op=list_works&hl=en&hl=en&user=SBQmYGcAAAAJ" target="_blank"><nobr>Daphne Barretto<sup>2</sup></nobr></a> &emsp;
                        <a href="https://yiyechen.github.io/" target="_blank"><nobr>Yiye Chen<sup>3, *</sup></nobr></a> &emsp;
                        <a href="https://openreview.net/profile?id=~Nicholas_Gyd%C3%A91" target="_blank"><nobr>Nicholas Gydé<sup>2</sup></nobr></a> &emsp;
                        <a href="https://scholar.google.com/citations?user=K0ljSw4AAAAJ&hl=en" target="_blank"><nobr>Yanan Jian<sup>2, ‡</sup></nobr></a> &emsp;
                        <a href="https://yuhanghe01.github.io/" target="_blank"><nobr>Yuhang He<sup>2</sup></nobr></a> &emsp;
                        <a href="https://vibhav-vineet.github.io/" target="_blank"><nobr>Vibhav Vineet<sup>2</sup></nobr></a>
                    </h6>
                    <sup>1</sup>University of Oxford&nbsp;&nbsp;&nbsp;<sup>2</sup><nobr>Microsoft&nbsp;&nbsp;&nbsp;</nobr><sup>3</sup><nobr>Georgia Institute of Technology</nobr><br>
                    *Work completed during an internship at Microsoft<br>
                    ‡Work completed during employment at Microsoft
                </div>
                <div class="col-sm-0 col-md-2"></div>
                <div class="col-md-12 mt-3">
                    <!-- <a href="#" class="btn btn-secondary btn-sm"><i class="fa-solid fa-file-pdf"></i>&nbsp;&nbsp;Paper</a> -->
                    <a href="https://arxiv.org/abs/2601.20650" class="btn btn-secondary btn-sm"><i class="ai ai-arxiv"></i>&nbsp;&nbsp;arXiv</a>
                    <a href="#" class="btn btn-secondary btn-sm"><i class="fa-brands fa-github"></i>&nbsp;&nbsp;Code</a>
                    <a href="#" class="btn btn-secondary btn-sm"><i class="fa-solid fa-database"></i>&nbsp;&nbsp;Task&nbsp;Data</a>
                    <!-- <a href="#" class="btn btn-secondary btn-sm"><i class="fa-solid fa-scale-balanced"></i>&nbsp;&nbsp;License</a> -->
                    <a href="#" class="btn btn-secondary btn-sm">🤗&nbsp;&nbsp;HuggingFace</a>
                    <a href="#citation" class="btn btn-secondary btn-sm"><i class="fa-solid fa-file"></i>&nbsp;&nbsp;BibTeX</a>
                </div>
                <div class="col-md-12 mt-3 text-warning">The code and data are under internal review and will be released soon, stay tuned! 😊</div>
            </div>
            
            <div class="row">
                <div class="col-sm-0 col-md-2"></div>
                <div class="col-sm-12 col-md-8">
                    <!-- <img src="banner.png" alt="banner" class="img-fluid"> -->

                    <!-- ==================== INTRO ANIMATION ==================== -->
                    <div class="intro-stage" id="intro-stage">
                        <div class="intro-title">Motivation</div>
                        <div class="intro-canvas" id="intro-canvas">
                            <!-- Traveler (happy emoji + suitcase) -->
                            <div class="traveler" id="traveler">
                                <span class="happy-emoji">😆</span>
                                <span class="suitcase-emoji">🧳</span>
                            </div>

                            <!-- Facepalm emoji (appears when overwhelmed) -->
                            <div class="facepalm-container" id="facepalm-container">
                                <span class="facepalm-emoji">🤦</span>
                                <span class="sweat-drops">💧</span>
                                <!-- <span class="manga-exclaim exclaim-1">!</span> -->
                            </div>

                            <!-- Action lines overlay -->
                            <div class="action-lines" id="action-lines"></div>

                            <!-- Receipts -->
                            <div class="receipts-container" id="receipts-container">
                                <span class="receipts-bubble manga-bubble" id="receipts-bubble">Traveling receipts</span>
                                <img src="assets/teaser_animation_images/food_receipt.png" class="receipt-img" alt="Food Receipt">
                                <img src="assets/teaser_animation_images/hotel_receipt.png" class="receipt-img" alt="Hotel Receipt">
                                <img src="assets/teaser_animation_images/flight_receipt.png" class="receipt-img" alt="Flight Receipt">
                                <img src="assets/teaser_animation_images/taxi_receipt.png" class="receipt-img" alt="Taxi Receipt">
                                <img src="assets/teaser_animation_images/toll_receipt.png" class="receipt-img" alt="Toll Receipt">
                                <img src="assets/teaser_animation_images/parking_receipt.png" class="receipt-img" alt="Parking Receipt">
                                <img src="assets/teaser_animation_images/fuel_receipt.png" class="receipt-img" alt="Fuel Receipt">
                                <img src="assets/teaser_animation_images/car_rental.png" class="receipt-img" alt="Car Rental">
                            </div>

                            <!-- Right Arrow -->
                            <div class="expense-arrow" id="expense-arrow">
                                <svg viewBox="0 0 80 40" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <linearGradient id="expenseArrowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#f472b6"/>
                                            <stop offset="100%" style="stop-color:#22d3ee"/>
                                        </linearGradient>
                                    </defs>
                                    <line x1="0" y1="20" x2="55" y2="20" stroke="url(#expenseArrowGrad)" stroke-width="4" stroke-linecap="round"/>
                                    <polygon points="55,10 75,20 55,30" fill="#22d3ee"/>
                                </svg>
                            </div>

                            <!-- Expense System -->
                            <div class="expense-system-container" id="expense-system-container">
                                <span class="expense-system-label manga-bubble">Expense system</span>
                                <img src="assets/system_images/system.png" class="expense-system-img" alt="Expense System">
                            </div>

                            <!-- Question text (appears after facepalm) -->
                            <div class="intro-question" id="intro-question">
                                <p>🤔 Can computer-use agents help to do these long tasks?</p>
                            </div>
                        </div>
                    </div>

                    <!-- ==================== MAIN WORKFLOW ANIMATION ==================== -->
                    <div class="teaser-stage hidden" id="teaser-stage">
                        <div class="intro-title">Long-Horizon, Repetitive Tasks</div>
            
                        <!-- Top: Task -->
                        <div class="task-section" id="task-section">
                            <div class="task-box">
                                <div class="task-label">📋 TASK:</div>
                                <div class="task-text">Do an expense report for me</div>
                            </div>
                        </div>
            
                        <!-- Down Arrow -->
                        <div class="down-arrow" id="down-arrow">
                            <svg width="20" height="40" viewBox="0 0 20 40">
                                <defs>
                                    <linearGradient id="arrowGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color:#a78bfa"/>
                                        <stop offset="100%" style="stop-color:#f472b6"/>
                                    </linearGradient>
                                </defs>
                                <path d="M10 0 L10 30 M4 25 L10 35 L16 25" stroke="url(#arrowGrad)" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
            
                        <!-- Robot Section -->
                        <div class="robot-section">
                            <div class="decompose-label" id="decompose-label">⚙️ Decompose the task</div>
                            <div class="robot-container" id="robot-container">
                                <span class="main-robot-emoji">🤖</span>
                                <span class="robot-sparkle">✨</span>
                                <span class="robot-sparkle">⭐</span>
                                <span class="robot-sparkle">💫</span>
                            </div>
                        </div>

                        <!-- Main Workflow Container -->
                        <div class="workflow-main-container" id="workflow-main-container">
                            
                            <!-- Left: Receipt Stack -->
                            <div class="receipt-stack-container" id="receipt-stack-container">
                                <div class="receipt-stack-label">Receipts</div>
                                <div class="receipt-stack" id="receipt-stack">
                                    <div class="receipt-thumb-wrapper" data-index="0">
                                        <img src="assets/teaser_animation_images/food_receipt.png" class="receipt-thumb" alt="Food">
                                        <span class="receipt-check">✓</span>
                                    </div>
                                    <div class="receipt-thumb-wrapper" data-index="1">
                                        <img src="assets/teaser_animation_images/hotel_receipt.png" class="receipt-thumb" alt="Hotel">
                                        <span class="receipt-check">✓</span>
                                    </div>
                                    <div class="receipt-thumb-wrapper" data-index="2">
                                        <img src="assets/teaser_animation_images/flight_receipt.png" class="receipt-thumb" alt="Flight">
                                        <span class="receipt-check">✓</span>
                                    </div>
                                    <div class="receipt-thumb-wrapper" data-index="3">
                                        <img src="assets/teaser_animation_images/parking_receipt.png" class="receipt-thumb" alt="Parking">
                                        <span class="receipt-check">✓</span>
                                    </div>
                                </div>
                                <div class="more-indicator" id="more-indicator" style="margin-top: 5px; font-size: 12px;">
                                    <span>...</span>
                                </div>
                            </div>

                            <!-- Center: Workflow Column -->
                            <div class="workflow-column-wrapper" id="workflow-column-wrapper">
                                <img src="assets/teaser_animation_images/food_receipt.png" class="current-receipt-thumbnail" id="current-receipt-thumbnail" alt="Current Receipt">
                                <div class="workflow-column-new" id="workflow-column">
                                    <div class="data-label" id="workflow-data-label"><span class="data-label-icon">📁</span> Sub-Workflow 1 <br>(Data Unit 1)</div>
                                    <div class="workflow-cards">
                                        <div class="workflow-card pending" id="card-identify">
                                            <span class="card-icon">🔍</span>
                                            <span class="card-text">Identify the required data</span>
                                        </div>
                                        <div class="workflow-card pending" id="card-understand">
                                            <span class="card-icon">📖</span>
                                            <span class="card-text">Understand and find the required information from data</span>
                                        </div>
                                        <div class="workflow-card pending" id="card-fill">
                                            <span class="card-icon">✏️</span>
                                            <span class="card-text">Fill the form</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Arrow pointing to interaction area -->
                            <div class="workflow-arrow" id="workflow-arrow">
                                <svg viewBox="0 0 50 30" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <linearGradient id="workflowArrowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#a78bfa"/>
                                            <stop offset="100%" style="stop-color:#22d3ee"/>
                                        </linearGradient>
                                    </defs>
                                    <line x1="0" y1="15" x2="35" y2="15" stroke="url(#workflowArrowGrad)" stroke-width="3" stroke-linecap="round"/>
                                    <polygon points="35,8 48,15 35,22" fill="#22d3ee"/>
                                </svg>
                            </div>

                            <!-- Right: Interaction Display -->
                            <div class="interaction-display" id="interaction-display">
                                <div class="interaction-label" id="interaction-label">Processing Receipt</div>
                                <div class="interaction-content" id="interaction-content">
                                    <!-- Receipt being processed -->
                                    <img src="assets/teaser_animation_images/food_receipt.png" class="interaction-receipt" id="interaction-receipt" alt="Receipt">
                                    <!-- Expense system -->
                                    <img src="assets/system_images/system1.png" class="interaction-system" id="interaction-system" alt="Expense System">
                                    <!-- Cursor for form filling -->
                                    <svg class="cursor-icon" id="cursor-icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M355.095,284.612L512,183.087L0,0l183.085,512l101.527-156.905L394.53,465.013c19.463,19.463,51.019,19.462,70.483,0 c19.462-19.463,19.462-51.019,0-70.483L355.095,284.612z" fill="#ffffff" stroke="#000000" stroke-width="20"/>
                                    </svg>
                                    <!-- Processing indicator -->
                                    <div class="processing-indicator" id="processing-indicator">
                                        <div class="dot"></div>
                                        <div class="dot"></div>
                                        <div class="dot"></div>
                                        <span>READING</span>
                                    </div>
                                </div>
                            </div>

                        </div>
            
                    </div>
                    <p class="text-center text-muted mt-2 small"><em>OS-Marathon targets long-horizon, repetitive tasks.</em></p>

                    <h3 class="mt-5" id="news-section">✨ News & Updates</h3>
                    <hr/>
                    <ul>
                        <li>1/29/2026: Paper released on arXiv.</li>
                        <li>1/28/2026: Website released.</li>
                    </ul>

                    <h3 class="mt-5" id="takeaways-section">💡 Key Takeaways</h3>
                    <hr/>
                    <p>We identify three key challenges for computer-use agents on long-horizon, repetitive tasks:</p>

                    <div class="info-callout">
                        <div class="info-icon">
                          <i class="fa-solid fa-exclamation-circle"></i>
                        </div>
                      
                        <div class="info-content">
                          <span class="info-label">Findings</span>
                          <p>
                            <ol>
                                <li><u><strong>Logical Incoherence</strong></u>: Agents fail to comprehend the underlying logic of sub-workflows, often executing tasks in an incorrect sequence.</li>
                                <li><u><strong>Hallucination</strong></u>: Agents frequently hallucinate when attempting to populate system fields.</li>
                                <li><u><strong>Long-horizon Inconsistency</strong></u>: Agents fail to plan the full iterative trajectory required to complete the overall workflow.</li>
                            </ol>
                          </p>
                        </div>
                    </div>

                    <h3 class="mt-5" id="abstract-section">📑 Abstract</h3>
                    <hr/>
                    <p style="text-align: justify;">
                        Long-horizon, repetitive workflows are common in professional settings, such as processing expense reports from receipts and entering student grades from exam papers.
                        These tasks are often tedious for humans since they can extend to extreme lengths proportional to the size of the data to process. 
                        However, they are ideal for Computer-Use Agents (CUAs) due to their structured, recurring sub-workflows with logic that can be systematically learned. 
                        Identifying the absence of an evaluation benchmark as a primary bottleneck, we establish OS-Marathon, comprising 252 long-horizon, repetitive tasks across 2 domains to evaluate state-of-the-art (SOTA) agents.
                        We then introduce a cost-effective method to construct a condensed demonstration using only few-shot examples to teach agents the underlying workflow logic, enabling them to execute similar workflows effectively on larger, unseen data collections. 
                        Extensive experiments demonstrate both the inherent challenges of these tasks and the effectiveness of our proposed method.
                        
                    </p>

                    <h3 class="mt-5" id="task-workflow-section">🚀 Task Workflow Visualization</h3>
                    <hr/>

                    <p>
                        We visualize the execution process of two tasks from the expense report and transcript domains to illustrate the complete workflow.
                        <b>Use the controls to switch between examples.</b>
                    </p>

                    <div id="agentResults" class="carousel slide" data-bs-ride="false">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#agentResults" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#agentResults" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        </div>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/workflow_vis/expense_task_processed.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><u>Instruction</u>: Could you fill the expense report for me in the system with receipts stored in the receipt folder on the Desktop named 'receipts'.</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/workflow_vis/gpa_task_processed.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><u>Instruction</u>: There is a transcript on the Desktop, I need to convert the GPA to another standard. Could you do that for me by using the GPA calculator in the browser?</h5>
                                </div>
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#agentResults" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#agentResults" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>

                    <h3 class="mt-5" id="stats-section">📊 Statistics of the Benchmark</h3>
                    <hr/>

                    <div class="stats-grid">
                        <div class="stat-card">
                          <div class="stat-icon">
                            <i class="fa-solid fa-window-restore"></i>
                          </div>
                          <div class="stat-value">2</div>
                          <div class="stat-label">Domains for Daily Long-horizon, Repetitive Tasks</div>
                        </div>
                      
                        <div class="stat-card">
                          <div class="stat-icon">
                            <i class="fa-solid fa-check"></i>
                          </div>
                          <div class="stat-value">7</div>
                          <div class="stat-label">Difficulty Levels</div>
                        </div>
                      
                        <div class="stat-card">
                          <div class="stat-icon">
                            <i class="fa-solid fa-tasks"></i>
                          </div>
                          <div class="stat-value">242</div>
                          <div class="stat-label">Long-horizon, Repetitive Tasks</div>
                        </div>
                      
                        <div class="stat-card">
                          <div class="stat-icon">
                            <i class="fa-solid fa-desktop"></i>
                          </div>
                          <div class="stat-value">7</div>
                          <div class="stat-label">Fully Functional Execution Environments</div>
                        </div>
                    </div>

                    <h4 class="mt-5 mb-3">Detailed Statistics</h4>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover align-middle">
                            <thead class="table-light">
                                <tr>
                                    <th rowspan="2" style="vertical-align: middle;">Domain</th>
                                    <th rowspan="2" style="vertical-align: middle;">Levels</th>
                                    <th colspan="2" style="vertical-align: middle; text-align: center;">Difficulty Level Criteria</th>
                                    <th rowspan="2" style="vertical-align: middle;">#Execu Env</th>
                                    <th rowspan="2" style="vertical-align: middle;">#Task</th>
                                    <th rowspan="2" style="vertical-align: middle;">Task Scalable?</th>
                                </tr>
                                <tr>
                                    <th id="criteria-col1" style="vertical-align: middle; text-align: center;">#Receipt</th>
                                    <th id="criteria-col2" style="vertical-align: middle; text-align: center;">Include Multi-Page Doc?</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Expense Report Domain -->
                                <tr data-row-group="expense-report">
                                    <td rowspan="4" style="vertical-align: middle; font-weight: 600;">Expense Reporting</td>
                                    <td>L1</td>
                                    <td style="vertical-align: middle; text-align: center;">5</td>
                                    <td style="vertical-align: middle; text-align: center;">
                                        <i class="fa-solid fa-xmark" style="color: #dc3545;"></i>
                                    </td>
                                    <td rowspan="4" style="vertical-align: middle; text-align: center;">5</td>
                                    <td>30</td>
                                    <td rowspan="4" style="vertical-align: middle; text-align: center;">
                                        <i class="fa-solid fa-check" style="color: #28a745;"></i>
                                    </td>
                                </tr>
                                <tr data-row-group="expense-report">
                                    <td>L2</td>
                                    <td style="vertical-align: middle; text-align: center;">5</td>
                                    <td style="vertical-align: middle; text-align: center;">
                                        <i class="fa-solid fa-check" style="color: #28a745;"></i>
                                    </td>
                                    <td>30</td>
                                </tr>
                                <tr data-row-group="expense-report">
                                    <td>L3</td>
                                    <td style="vertical-align: middle; text-align: center;">~15</td>
                                    <td style="vertical-align: middle; text-align: center;">
                                        <i class="fa-solid fa-check" style="color: #28a745;"></i>
                                    </td>
                                    <td>50</td>
                                </tr>
                                <tr data-row-group="expense-report">
                                    <td>L4</td>
                                    <td style="vertical-align: middle; text-align: center;">~30</td>
                                    <td style="text-align: center;">
                                        <i class="fa-solid fa-check" style="color: #28a745;"></i>
                                    </td>
                                    <td>50</td>
                                </tr>
                                
                                <!-- GPA Report Domain - Separator Row -->
                                <tr style="background-color: var(--table-head) !important;">
                                    <td style="background-color: var(--table-head) !important;"></td>
                                    <td style="background-color: var(--table-head) !important;"></td>
                                    <td style="vertical-align: middle; text-align: center; font-weight: 600; background-color: var(--table-head) !important;">#Doc Column</td>
                                    <td style="vertical-align: middle; text-align: center; font-weight: 600; background-color: var(--table-head) !important;">#Doc Page</td>
                                    <td style="background-color: var(--table-head) !important;"></td>
                                    <td style="background-color: var(--table-head) !important;"></td>
                                    <td style="background-color: var(--table-head) !important;"></td>
                                </tr>
                                
                                <!-- GPA Report Domain -->
                                <tr data-row-group="gpa-report">
                                    <td rowspan="3" style="vertical-align: middle; font-weight: 600;">Transcript Recording</td>
                                    <td>L1</td>
                                    <td style="vertical-align: middle; text-align: center;">1</td>
                                    <td style="vertical-align: middle; text-align: center;">1</td>
                                    <td rowspan="3" style="vertical-align: middle; text-align: center;">2</td>
                                    <td>18</td>
                                    <td rowspan="3" style="vertical-align: middle; text-align: center;">
                                        <i class="fa-solid fa-check" style="color: #28a745;"></i>
                                    </td>
                                </tr>
                                <tr data-row-group="gpa-report">
                                    <td>L2</td>
                                    <td style="vertical-align: middle; text-align: center;">2</td>
                                    <td style="vertical-align: middle; text-align: center;">1</td>
                                    <td>30</td>
                                </tr>
                                <tr data-row-group="gpa-report">
                                    <td>L3</td>
                                    <td style="vertical-align: middle; text-align: center;">/</td>
                                    <td style="vertical-align: middle; text-align: center;">&gt;1</td>
                                    <td>34</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    
                      

                    <h3 class="mt-5" id="infra-section">🖥️ Execution Environment Visualization</h3>
                    <hr/>

                    <p>We visualize the execution environment for the tasks. Note that this illustration is for conceptual purposes only, and the data shown may differ from the data used in practice.</p>

                    <div id="envCarousel" class="carousel slide" data-bs-ride="false">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            <button type="button" data-bs-target="#envCarousel" data-bs-slide-to="6" aria-label="Slide 7"></button>
                        </div>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/exec_env/webuni_env_processed.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5>University Expense System Environment</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/exec_env/webcompany_env_processed.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5>Corporate Expense System Environment</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/exec_env/gpa_calc_env_processed.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5>GPA Calculator System Environment 1</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/exec_env/gpa_web_env_processed.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5>GPA Calculator System Environment 2</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <img src="assets/exec_env/expense_sheet1.png" alt="Spreadsheet Environment" class="img-fluid mb-3">
                                </div>
                                <div class="carousel-caption">
                                    <h5>Corporate Expense Spreadsheet Environment 1</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <img src="assets/exec_env/expense_sheet2.png" alt="Spreadsheet Environment" class="img-fluid mb-3">
                                </div>
                                <div class="carousel-caption">
                                    <h5>Corporate Expense Spreadsheet Environment 2</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <img src="assets/exec_env/expense_sheet_uni.png" alt="System Environment" class="img-fluid mb-3">
                                </div>
                                <div class="carousel-caption">
                                    <h5>University Expense Spreadsheet Environment</h5>
                                </div>
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#envCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#envCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>

                    <h3 class="mt-5">🎯 Synthetic Data Generation Visualization</h3>
                    <hr/>

                    <p>We visualize the synthetic data generation process.</p>
                    <div class="ratio ratio-16x9">
                        <video class="rounded" autoplay muted loop playsinline>
                            <source src="assets/synthetic_data_pipeline_animation.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <p class="text-center text-muted mt-2 small"><em>Synthetic data pipeline.</em></p>

                    <h3 class="mt-5">🗂️ Data Sample Visualization</h3>
                    <hr/>

                    <p>We visualize the synthetic data generated through our synthetic data generation pipeline.</p>
                    
                    <div class="gallery-container">
                        <div class="gallery-scroll-area">
                            <div class="gallery-columns-wrapper" id="gallery-columns-wrapper">
                                <!-- Gallery items will be generated by JavaScript -->
                            </div>
                            <div class="gallery-scroll-hint">
                                <span>Scroll For More</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Image Preview Modal -->
                    <div class="gallery-modal" id="galleryModal">
                        <div class="gallery-modal-backdrop"></div>
                        <div class="gallery-modal-content">
                            <div class="gallery-zoom-controls">
                                <button class="gallery-zoom-btn" id="zoomOut" title="Zoom Out">−</button>
                                <span class="gallery-zoom-level" id="zoomLevel">100%</span>
                                <button class="gallery-zoom-btn" id="zoomIn" title="Zoom In">+</button>
                                <button class="gallery-zoom-btn" id="zoomReset" title="Reset Zoom">⟲</button>
                            </div>
                            <button class="gallery-modal-close" aria-label="Close">&times;</button>
                            <div class="gallery-image-container" id="galleryImageContainer">
                                <img src="" alt="Preview" id="galleryModalImage">
                                <div class="gallery-zoom-hint">Scroll or double-click to zoom</div>
                            </div>
                            <div class="gallery-modal-info">
                                <h4 id="galleryModalTitle">Image Title</h4>
                                <p id="galleryModalDescription">Image description goes here</p>
                            </div>
                        </div>
                    </div>
                    

                    <h3 class="mt-5" id="method-section">🔍 Method</h3>
                    <hr/>
                    <p>
                        We propose Few-shot Condensed Workflow Demonstration (<strong><span style="color: var(--ms-red);">F</span><span style="color: var(--ms-green);">C</span><span style="color: var(--ms-blue);">W</span><span style="color: var(--ms-yellow);">D</span></strong>) to construct a condensed human demonstration from few-shot data by abstracting the workflow into key steps to guide the CUA reasoning.
                    </p>
                    <div class="ratio ratio-16x9">
                        <video class="rounded" autoplay muted loop playsinline>
                            <source src="assets/method_animation.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <p class="text-center text-muted mt-2 small"><em>Teach a CUA the long-horizon, repetitive workflow with a demonstration made with few-shot examples.</em></p>


                    <h3 class="mt-5" id="results-section">✏️ Qualitative Results</h3>
                    <hr/>

                    <p>We provide the qualitative results of some baseline CUAs on our benchmark. We attach the agents' action prediction on the top right corner of the video.</p>

                    <div id="qualitativeCarousel" class="carousel slide" data-bs-ride="false">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                            <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                            <!-- <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            <button type="button" data-bs-target="#qualitativeCarousel" data-bs-slide-to="6" aria-label="Slide 7"></button> -->
                        </div>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/qualitative_res/agents2.5_L1_Profile4_WebCompany.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><span style="color: var(--ms-red);"><u>Method</u>: Agent S2.5 + GPT5</span> <br/>
                                        <u>Task Instruction</u>: Could you fill the expense report for me in the system with receipts stored in the receipt folder on the Desktop named 'receipts'.<br/>
                                        <span style="color: var(--ms-yellow);"><u>Problems</u>: Logical Incoherence; Hallucination; Long-horizon Inconsistency.</span>
                                    </h5> 
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/qualitative_res/agents2.5_L2_Profile2_Sheet1.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><span style="color: var(--ms-red);"><u>Method</u>: Agent S2.5 + GPT5</span> <br/>
                                        <u>Task Instruction</u>: Could you fill the expense report for me in the excel file on the Desktop named 'expense-report-personal.xlsx' with receipts stored in the receipt folder on the Desktop named 'receipts'. If you need the conversion rate, it is stored in the currency_conversion_rates_to_usd.csv file on the Desktop.<br/>
                                        <span style="color: var(--ms-yellow);"><u>Problems</u>: Struggling with filling the spreadsheet (keeping the style); Long-horizon Inconsistency.</span>
                                    </h5> 
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/qualitative_res/agents2.5_L1_Transcript3_Web.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><span style="color: var(--ms-red);"><u>Method</u>: Agent S2.5 + GPT5</span> <br/>
                                        <u>Task Instruction</u>: There is a transcript on the Desktop, I need to convert the GPA to another standard. Could you do that for me by using the GPA calculator in the browser?<br/>
                                        <span style="color: var(--ms-yellow);"><u>Problems</u>: Hallucination; Long-horizon Inconsistency.</span>
                                    </h5> 
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/qualitative_res/opencua_L1_Profile3_Sheet1.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><span style="color: var(--ms-red);"><u>Method</u>: OpenCUA-7B</span> <br/>
                                        <u>Task Instruction</u>: Could you fill the expense report for me in the excel file on the Desktop named 'expense-report-personal.xlsx' with receipts stored in the receipt folder on the Desktop named 'receipts'. If you need the conversion rate, it is stored in the currency_conversion_rates_to_usd.csv file on the Desktop.<br/>
                                        <span style="color: var(--ms-yellow);"><u>Problems</u>: Logical Incoherence; Hallucination; Long-horizon Inconsistency.</span>
                                    </h5> 
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src="assets/qualitative_res/uitars_L2_Transcript3_Web.mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5 class="caption-detailed"><span style="color: var(--ms-red);"><u>Method</u>: UITARS-1.5-7B</span> <br/>
                                        <u>Task Instruction</u>: There is a transcript on the Desktop, I need to convert the GPA to another standard. Could you do that for me by using the GPA calculator in the browser?<br/>
                                        <span style="color: var(--ms-yellow);"><u>Problems</u>: Logical Incoherence; Hallucination; Long-horizon Inconsistency.</span>
                                    </h5> 
                                </div>
                            </div>
                            <!-- <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src=".mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5>Corporate Expense Spreadsheet Environment 2</h5>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="ratio ratio-16x9">
                                    <video class="rounded" autoplay muted loop playsinline controls>
                                        <source src=".mp4" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                </div>
                                <div class="carousel-caption">
                                    <h5>University Expense Spreadsheet Environment</h5>
                                </div>
                            </div> -->
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#qualitativeCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#qualitativeCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>

                    

                    <h3 class="mt-5">📐 Quantitative Results</h3>
                    <hr/>
                    <p>We compare the performance of the agents and human on our benchmark. We evaluate the sub-workflow accuracy (SWA) and success rate (SR) of the agents and human on the Level 1 and 2 tasks within the expense report and transcript domains.</p>
                    
                    <table class="table table-hover mt-4">
                        <caption class="text-left text-muted small mb-2"><em>Quantitative comparison of <strong>sub-workflow accuracy</strong> (SWA). We compare a human operator, baseline agents and our agent on Level 1 and 2 tasks within the <strong>expense report domain</strong>. 
                            Human success rates in the <strong>website environment</strong> (at steps 50, 100, 150, and 200) are 0.00%, 12.50%, 75.00%, and 75.00%. In the <strong>spreadsheet environment</strong>, human success rates are 0.00%, 0.00%, 62.50%, and 75.00%. All agents (baselines and ours) achieve a 0% success rate across both environments.</em>
                        </caption>
                        <thead class="table-light text-center">
                            <tr>
                                <th>Agents</th>
                                <th>Step 50</th>
                                <th>Step 100</th>
                                <th>Step 150</th>
                                <th>Step 200</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="table-secondary fw-bold text-center">
                                <td colspan="5">Website System Environment</td>
                            </tr>
                            <tr class="text-center">
                                <td>Human</td>
                                <td>30.00%</td>
                                <td>70.00%</td>
                                <td>95.00%</td>
                                <td>95.00%</td>
                            </tr>
                            <tr class="text-center">
                                <td>OpenCUA-7B</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr class="text-center">
                                <td>UI-TARS-1.5-7B</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr class="text-center">
                                <td>AgentS2.5 + GPT5</td>
                                <td>0.00%</td>
                                <td>5.00%</td>
                                <td>5.00%</td>
                                <td>5.00%</td>
                            </tr>
                            <tr class="text-center">
                                <td>AgentS2.5 + GPT5 w/ <strong><span style="color: var(--ms-red);">F</span><span style="color: var(--ms-green);">C</span><span style="color: var(--ms-blue);">W</span><span style="color: var(--ms-yellow);">D</span></strong></td>
                                <td>12.50%</td>
                                <td>30.00%</td>
                                <td>37.50%</td>
                                <td>37.50%</td>
                            </tr>
                            <tr class="table-secondary fw-bold text-center">
                                <td colspan="5">Spreadsheet Environment</td>
                            </tr>
                            <tr class="text-center">
                                <td>Human</td>
                                <td>35.00%</td>
                                <td>77.50%</td>
                                <td>97.50%</td>
                                <td>97.50%</td>
                            </tr>
                            <tr class="text-center">
                                <td>OpenCUA-7B</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr class="text-center">
                                <td>UI-TARS-1.5-7B</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr class="text-center">
                                <td>AgentS2.5 + GPT5</td>
                                <td>0.00%</td>
                                <td>5.00%</td>
                                <td>12.50%</td>
                                <td>12.50%</td>
                            </tr>
                            <tr class="text-center">
                                <td>AgentS2.5 + GPT5 w/ <strong><span style="color: var(--ms-red);">F</span><span style="color: var(--ms-green);">C</span><span style="color: var(--ms-blue);">W</span><span style="color: var(--ms-yellow);">D</span></strong></td>
                                <td>5.00%</td>
                                <td>20.00%</td>
                                <td>25.00%</td>
                                <td>25.00%</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="table table-hover mt-4">
                        <caption class="text-left text-muted small mb-2"><em>Quantitative comparison of <strong>sub-workflow accuracy</strong> (SWA) and <strong>success rate</strong> (SR). A human operator, baseline agents and our agent are compared on Level 1 and 2 tasks within the <strong>transcript domain</strong>.</em></caption>
                        <thead class="table-light">
                            <tr>
                                <th>Agents</th>
                                <th>Step</th>
                                <th class="text-center">Sub-Workflow Accuracy</th>
                                <th class="text-center">SR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="table-secondary fw-bold text-center">
                                <td colspan="4">Difficulty Level 1</td>
                            </tr>
                            <tr data-row-group="expense-l1-human">
                                <td rowspan="2">Human</td>
                                <td>50</td>
                                <td>75.00%</td>
                                <td>50.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-human">
                                <td>100</td>
                                <td>100.00%</td>
                                <td>100.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-opencua">
                                <td rowspan="2">OpenCUA-7B</td>
                                <td>50</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-opencua">
                                <td>100</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-ui-tars">
                                <td rowspan="2">UI-TARS-1.5-7B</td>
                                <td>50</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-ui-tars">
                                <td>100</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-agents2.5">
                                <td rowspan="2">AgentS2.5 + GPT5</td>
                                <td>50</td>
                                <td>19.94%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-agents2.5">
                                <td>100</td>
                                <td>27.08%</td>
                                <td>25.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-agents2.5-fcwd">
                                <td rowspan="2">AgentS2.5 + GPT5 w/ <strong><span style="color: var(--ms-red);">F</span><span style="color: var(--ms-green);">C</span><span style="color: var(--ms-blue);">W</span><span style="color: var(--ms-yellow);">D</span></strong></td>
                                <td>50</td>
                                <td>66.29%</td>
                                <td>25.00%</td>
                            </tr>
                            <tr data-row-group="expense-l1-agents2.5-fcwd">
                                <td>100</td>
                                <td>91.74%</td>
                                <td>50.00%</td>
                            </tr>
                            <tr class="table-secondary fw-bold text-center">
                                <td colspan="4">Difficulty Level 2</td>
                            </tr>
                            <tr data-row-group="expense-l2-human">
                                <td rowspan="4">Human</td>
                                <td>50</td>
                                <td>27.38%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-human">
                                <td>100</td>
                                <td>53.04%</td>
                                <td>25.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-human">
                                <td>150</td>
                                <td>69.18%</td>
                                <td>25.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-human">
                                <td>200</td>
                                <td>86.10%</td>
                                <td>50.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-opencua">
                                <td rowspan="4">OpenCUA-7B</td>
                                <td>50</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-opencua">
                                <td>100</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-opencua">
                                <td>150</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-opencua">
                                <td>200</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-ui-tars">
                                <td rowspan="4">UI-TARS-1.5-7B</td>
                                <td>50</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-ui-tars">
                                <td>100</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-ui-tars">
                                <td>150</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-ui-tars">
                                <td>200</td>
                                <td>0.00%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5">
                                <td rowspan="4">AgentS2.5 + GPT5</td>
                                <td>50</td>
                                <td>5.88%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5">
                                <td>100</td>
                                <td>17.65%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5">
                                <td>150</td>
                                <td>22.06%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5">
                                <td>200</td>
                                <td>23.53%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5-fcwd">
                                <td rowspan="4">AgentS2.5 + GPT5 w/ <strong><span style="color: var(--ms-red);">F</span><span style="color: var(--ms-green);">C</span><span style="color: var(--ms-blue);">W</span><span style="color: var(--ms-yellow);">D</span></strong></td>
                                <td>50</td>
                                <td>10.61%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5-fcwd">
                                <td>100</td>
                                <td>25.08%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5-fcwd">
                                <td>150</td>
                                <td>38.78%</td>
                                <td>0.00%</td>
                            </tr>
                            <tr data-row-group="expense-l2-agents2.5-fcwd">
                                <td>200</td>
                                <td>42.05%</td>
                                <td>0.00%</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="mt-5">🙏 Acknowledgements</h3>
                    <hr/>
                    <p style="text-align: justify;">
                        This work was conducted during an internship at Microsoft; we thank Microsoft Research (MSR) and Windows Cloud Experience (WCX) for their support. We also thank the authors of the <a href="https://github.com/xlang-ai/OSWorld" target="_blank">OSWorld benchmark</a> for their open-source infrastructure, which served as a foundation for this project.
                    </p>

                    <h3 class="mt-5" id="citation">📚 Citation</h3>
                    <hr/>
                    <div class="citation-container mb-5">
                        <button class="copy-btn" id="copy-citation-btn" onclick="copyCitation()">
                            📄
                        </button>
                        <pre class="w-100 user-select-all font-monospace mb-0" id="citation-text">@article{wu2026OS-Marathon,
        title={OS-Marathon: Benchmarking Computer-Use Agents on Long-Horizon Repetitive Tasks},
        author={Wu, Jing and Barretto, Daphne and Chen, Yiye and Gydé, Nicholas  and Jian, Yanan and He, Yuhang and Vineet, Vibhav},
        journal={arXiv},
        year={2026}
}</pre>
                    </div>

                    <footer class="text-center py-4 mt-5" style="border-top: 1px solid var(--highlight-color); color: #f8f9fa;">
                        <p class="mb-0">OS-Marathon &copy; 2025 All rights reserved.</p>
                    </footer>

                </div>
                <div class="col-sm-0 col-md-2"></div>
                
            </div>
            
        </div>

        

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>

        <script>
            // ==================== GALLERY DATA ====================
            const galleryData = {
                column1: [
                    { title: "Car Rental Email", category: "Receipt", description: "Car rental email confirmation", image: "assets/data_vis/car_rental_email_enterprise.png" },
                    { title: "Food", category: "Receipt", description: "Food/grocery format 3", image: "assets/data_vis/food_item_hibachi.png" },
                    { title: "Car Rental", category: "Receipt", description: "Car rental email confirmation", image: "assets/data_vis/car_rental_email_hertz.png" },
                    { title: "Car Rental", category: "Receipt", description: "Car rental confirmation", image: "assets/data_vis/car_rental_national_1page.png" },
                    { title: "Car Rental", category: "Receipt", description: "Car rental receipt", image: "assets/data_vis/car_rental_sixt_1page.png" },
                    { title: "Flight", category: "Receipt", description: "Flight Format 1", image: "assets/data_vis/flight_airline_format1.png" },
                    { title: "Flight", category: "Receipt", description: "Flight Format 2", image: "assets/data_vis/flight_airline_format2.png" },
                    { title: "Flight Email", category: "Receipt", description: "Flight email confirmation", image: "assets/data_vis/flight_email.png" },
                    { title: "Flight Screenshot", category: "Receipt", description: "Flight mobile screenshot", image: "assets/data_vis/flight_mobile.png" },
                    { title: "Food", category: "Receipt", description: "Food/grocery format 1", image: "assets/data_vis/food_item_7eleven.png" },
                    { title: "Transcript", category: "Transcript", description: "Transcript with photo", image: "assets/data_vis/transcript_1col_photo.png" },
                ],
                column2: [
                    { title: "Food", category: "Receipt", description: "Food/grocery format 2", image: "assets/data_vis/food_item_business_center.png" },
                    { title: "Transcript", category: "Transcript", description: "Synthetic transcript", image: "assets/data_vis/transcript_1col.png" },
                    { title: "Food", category: "Receipt", description: "Food/grocery format costco", image: "assets/data_vis/food_item_costco.png" },
                    { title: "Meal", category: "Receipt", description: "Dining receipt format 1", image: "assets/data_vis/food_meal_ice_cream.png" },
                    { title: "Meal", category: "Receipt", description: "Dining receipt format 2", image: "assets/data_vis/food_meal.png" },
                    { title: "Fuel", category: "Receipt", description: "Fuel receipt format 1", image: "assets/data_vis/fuel_receipt_kk_circles.png" },
                    { title: "Fuel", category: "Receipt", description: "Fuel receipt format 2", image: "assets/data_vis/fuel_receipt_speedway.png" },
                    { title: "Fuel", category: "Receipt", description: "Fuel receipt format 3", image: "assets/data_vis/fuel_receipt_sshell.png" },
                    { title: "Fuel", category: "Receipt", description: "Fuel receipt format 4", image: "assets/data_vis/fuel_receipt_sunoco.png" },
                    { title: "Transcript", category: "Transcript", description: "Landscape transcript 2 columns", image: "assets/data_vis/transcript_2col_landscape.png" },
                    { title: "Transcript", category: "Transcript", description: "Table transcript 2 columns format 1", image: "assets/data_vis/transcript_2col_table.png" },
                    { title: "Transcript", category: "Transcript", description: "Table transcript 2 columns format 2", image: "assets/data_vis/transcript_2col_table2.png" },
                    { title: "Hotel Email Confirmation", category: "Receipt", description: "Hotel email confirmation", image: "assets/data_vis/hotel_email_agoda.png" },
                    { title: "Taxi", category: "Receipt", description: "Taxi receipt", image: "assets/data_vis/taxi_receipt.png" },
                    { title: "Taxi", category: "Receipt", description: "Taxi receipt", image: "assets/data_vis/taxi_uber.png" },
                    
                ],
                column3: [
                    { title: "Hotel Email Confirmation", category: "Receipt", description: "Hotel email confirmation", image: "assets/data_vis/hotel_email.png" },
                    { title: "Hotel Confirmation", category: "Receipt", description: "Hotel confirmation", image: "assets/data_vis/hotel_hilton.png" },
                    { title: "Hotel Invoice", category: "Receipt", description: "Hotel 1 page invoice", image: "assets/data_vis/hotel_ibis_1page.png" },
                    { title: "Hotel", category: "Receipt", description: "Hotel 3rd party invoice", image: "assets/data_vis/hotel_traveloka.png" },
                    { title: "Parking", category: "Receipt", description: "Parking receipt format 1", image: "assets/data_vis/parking_receipt_ezpz.png" },
                    { title: "Parking", category: "Receipt", description: "Parking receipt format 2", image: "assets/data_vis/parking_receipt_garage.png" },
                    { title: "Parking", category: "Receipt", description: "Parking receipt format 3", image: "assets/data_vis/parking_receipt_valet.png" },
                    { title: "Parking", category: "Receipt", description: "Parking receipt format 4", image: "assets/data_vis/parking_receipt.png" },
                    { title: "Taxi", category: "Receipt", description: "Taxi receipt format 1", image: "assets/data_vis/taxi_grab.png" },
                    { title: "Taxi", category: "Receipt", description: "Taxi receipt format 2", image: "assets/data_vis/taxi_grab2.png" },
                    { title: "Taxi", category: "Receipt", description: "Taxi printed receipt", image: "assets/data_vis/taxi_passenger_receipt.png" },
                    { title: "Toll", category: "Receipt", description: "Toll receipt format 1", image: "assets/data_vis/toll_receipt_indiana.png" },
                    { title: "Toll", category: "Receipt", description: "Toll receipt format 2", image: "assets/data_vis/toll_receipt_jersey.png" },
                    { title: "Toll", category: "Receipt", description: "Toll receipt format 3", image: "assets/data_vis/toll_receipt_state.png" },
                    { title: "Toll", category: "Receipt", description: "Toll receipt format 4", image: "assets/data_vis/toll_receipt_turnpike.png" }
                ]
            };

            // Generate gallery item HTML
            function createGalleryItem(item) {
                const content = item.image 
                    ? `<img src="${item.image}" alt="${item.title}">`
                    : `<div class="gallery-placeholder" style="height: ${item.height}px;"></div>`;
                
                return `
                    <div class="gallery-item" data-title="${item.title}" data-category="${item.category}" data-description="${item.description}">
                        ${content}
                        <div class="gallery-item-overlay">
                            <span class="gallery-tag">${item.title}</span>
                            <span class="gallery-category">${item.category}</span>
                        </div>
                    </div>
                `;
            }

            // Render the gallery from data
            function renderGallery() {
                const columnsWrapper = document.getElementById('gallery-columns-wrapper');
                if (!columnsWrapper) return;
                
                columnsWrapper.innerHTML = '';
                
                ['column1', 'column2', 'column3'].forEach(colKey => {
                    const columnDiv = document.createElement('div');
                    columnDiv.className = 'gallery-column';
                    columnDiv.innerHTML = galleryData[colKey].map(createGalleryItem).join('');
                    columnsWrapper.appendChild(columnDiv);
                });
            }

            // Render gallery on page load
            document.addEventListener('DOMContentLoaded', renderGallery);

            // Copy citation to clipboard
            function copyCitation() {
                const citationText = document.getElementById('citation-text').innerText;
                navigator.clipboard.writeText(citationText).then(() => {
                    const btn = document.getElementById('copy-citation-btn');
                    const originalHTML = btn.innerHTML;
                    btn.innerHTML = '<i class="fa-solid fa-check"></i><span>Copied!</span>';
                    btn.classList.add('copied');
                    setTimeout(() => {
                        btn.innerHTML = originalHTML;
                        btn.classList.remove('copied');
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    const textArea = document.createElement('textarea');
                    textArea.value = citationText;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                });
            }

            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            // ==================== MERGED ANIMATION LOOP ====================
            document.addEventListener("DOMContentLoaded", async () => {
                const introStage = document.getElementById('intro-stage');
                const teaserStage = document.getElementById('teaser-stage');
                const traveler = document.getElementById('traveler');
                const facepalmContainer = document.getElementById('facepalm-container');
                const receiptsContainer = document.getElementById('receipts-container');
                const receiptImgs = receiptsContainer.querySelectorAll('.receipt-img');
                const receiptsBubble = document.getElementById('receipts-bubble');
                const expenseArrow = document.getElementById('expense-arrow');
                const expenseSystemContainer = document.getElementById('expense-system-container');
                const introQuestion = document.getElementById('intro-question');
                const actionLines = document.getElementById('action-lines');
                const mangaSparkles = document.querySelectorAll('.manga-sparkle');

                // Start the continuous loop
                runContinuousLoop();

                function resetIntroElements() {
                    traveler.classList.remove('enter', 'exit');
                    traveler.style.display = '';
                    facepalmContainer.classList.remove('visible');
                    actionLines.classList.remove('visible');
                    receiptsBubble.classList.remove('visible');
                    receiptImgs.forEach(img => {
                        img.classList.remove('visible', 'float');
                    });
                    expenseArrow.classList.remove('visible');
                    expenseSystemContainer.classList.remove('visible');
                    introQuestion.classList.remove('visible');
                    introStage.style.opacity = '';
                    introStage.style.transition = '';
                    introStage.classList.remove('hidden');
                    teaserStage.classList.add('hidden');
                    teaserStage.classList.remove('visible');
                }

                function resetMainElements() {
                    const taskSection = document.getElementById('task-section');
                    const downArrow = document.getElementById('down-arrow');
                    const decomposeLabel = document.getElementById('decompose-label');
                    const robotContainer = document.getElementById('robot-container');
                    const receiptStackContainer = document.getElementById('receipt-stack-container');
                    const workflowColumn = document.getElementById('workflow-column');
                    const workflowDataLabel = document.getElementById('workflow-data-label');
                    const workflowArrow = document.getElementById('workflow-arrow');
                    const interactionDisplay = document.getElementById('interaction-display');
                    const interactionLabel = document.getElementById('interaction-label');
                    const receiptThumbs = document.querySelectorAll('.receipt-thumb-wrapper');
                    const currentReceiptThumbnail = document.getElementById('current-receipt-thumbnail');
                    const interactionReceipt = document.getElementById('interaction-receipt');
                    const interactionSystem = document.getElementById('interaction-system');
                    const cursorIcon = document.getElementById('cursor-icon');
                    const processingIndicator = document.getElementById('processing-indicator');
                    const moreIndicator = document.getElementById('more-indicator');

                    taskSection.classList.remove('visible');
                    downArrow.classList.remove('visible', 'animated');
                    decomposeLabel.innerHTML = '⚙️ Decompose the task';
                    decomposeLabel.classList.remove('visible', 'processing');
                    robotContainer.classList.remove('visible', 'thinking', 'working');
                    receiptStackContainer.classList.remove('visible');
                    workflowColumn.classList.remove('visible');
                    workflowDataLabel.innerHTML = '<span class="data-label-icon">📁</span> Sub-Workflow 1 <br>(Data Unit 1)'; // Reset label
                    workflowArrow.classList.remove('visible');
                    interactionDisplay.classList.remove('visible');
                    interactionLabel.classList.remove('active');
                    interactionLabel.textContent = 'Processing Receipt';
                    currentReceiptThumbnail.classList.remove('visible');
                    currentReceiptThumbnail.src = 'assets/teaser_animation_images/food_receipt.png'; // Reset thumbnail
                    interactionReceipt.classList.remove('visible');
                    interactionReceipt.src = 'assets/teaser_animation_images/food_receipt.png'; // Reset receipt
                    interactionSystem.classList.remove('visible');
                    interactionSystem.src = 'assets/system_images/system1.png'; // Reset to initial image
                    cursorIcon.classList.remove('visible', 'animating');
                    processingIndicator.classList.remove('visible');
                    moreIndicator.classList.remove('visible');
                    
                    receiptThumbs.forEach(thumb => {
                        thumb.classList.remove('current', 'completed');
                    });
                    
                    document.querySelectorAll('.workflow-card').forEach(card => {
                        card.classList.remove('processing', 'completed');
                        card.classList.add('pending');
                    });
                }

                async function runIntroAnimation() {
                    // Phase 1: Traveler enters from left
                    await sleep(500);
                    traveler.classList.add('enter');

                    // Phase 2: Receipts fade in with floating
                    await sleep(800);
                    receiptsBubble.classList.add('visible');
                    for (let i = 0; i < receiptImgs.length; i++) {
                        setTimeout(() => {
                            receiptImgs[i].classList.add('visible');
                            receiptImgs[i].classList.add('float');
                        }, i * 150);
                    }

                    // Phase 2.5: Arrow and expense system appear
                    await sleep(1200);
                    expenseArrow.classList.add('visible');
                    await sleep(400);
                    expenseSystemContainer.classList.add('visible');

                    // Phase 3: Traveler becomes confused, switches to facepalm
                    await sleep(1500);
                    traveler.classList.add('exit');
                    actionLines.classList.add('visible');
                    await sleep(400);
                    traveler.style.display = 'none';
                    facepalmContainer.classList.add('visible');

                    // Phase 3.5: Show question after facepalm
                    await sleep(1500);
                    introQuestion.classList.add('visible');

                    // Phase 4: Everything fades out
                    await sleep(3000);
                    actionLines.classList.remove('visible');
                    receiptsBubble.classList.remove('visible');
                    receiptImgs.forEach(img => {
                        img.classList.remove('visible');
                        img.classList.remove('float');
                    });
                    expenseArrow.classList.remove('visible');
                    expenseSystemContainer.classList.remove('visible');
                    facepalmContainer.classList.remove('visible');
                    introQuestion.classList.remove('visible');

                    // Phase 5: Fade out intro, show main animation
                    await sleep(600);
                    introStage.style.opacity = '0';
                    introStage.style.transition = 'opacity 0.8s ease';
                    
                    await sleep(800);
                    introStage.classList.add('hidden');
                    teaserStage.classList.remove('hidden');
                    teaserStage.classList.add('visible');

                    // Start the main workflow animation
                    await sleep(500);
                    await runMainAnimation();
                }

                async function runContinuousLoop() {
                    while (true) {
                        await runIntroAnimation();
                        // After main animation completes, reset both animations and loop
                        resetMainElements();
                        resetIntroElements();
                        await sleep(600);
                    }
                }
            });

            // ==================== MAIN WORKFLOW ANIMATION ====================
            async function runMainAnimation() {
                const taskSection = document.getElementById('task-section');
                const downArrow = document.getElementById('down-arrow');
                const decomposeLabel = document.getElementById('decompose-label');
                const robotContainer = document.getElementById('robot-container');
                const receiptStackContainer = document.getElementById('receipt-stack-container');
                const receiptThumbs = document.querySelectorAll('.receipt-thumb-wrapper');
                const workflowColumn = document.getElementById('workflow-column');
                const workflowDataLabel = document.getElementById('workflow-data-label');
                const workflowArrow = document.getElementById('workflow-arrow');
                const interactionDisplay = document.getElementById('interaction-display');
                const interactionLabel = document.getElementById('interaction-label');
                const interactionReceipt = document.getElementById('interaction-receipt');
                const interactionSystem = document.getElementById('interaction-system');
                const cursorIcon = document.getElementById('cursor-icon');
                const processingIndicator = document.getElementById('processing-indicator');
                const currentReceiptThumbnail = document.getElementById('current-receipt-thumbnail');
                const moreIndicator = document.getElementById('more-indicator');
                const cardIdentify = document.getElementById('card-identify');
                const cardUnderstand = document.getElementById('card-understand');
                const cardFill = document.getElementById('card-fill');

                const receiptImages = [
                    'assets/teaser_animation_images/food_receipt.png',
                    'assets/teaser_animation_images/hotel_receipt.png',
                    'assets/teaser_animation_images/flight_receipt.png',
                    'assets/teaser_animation_images/parking_receipt.png'
                ];

                const systemImages = [
                    'assets/system_images/system1.png',
                    'assets/system_images/system2.png',
                    'assets/system_images/system3.png',
                    'assets/system_images/system4.png'
                ];

                const systemFinishImages = [
                    'assets/system_images/system_finish1.png',
                    'assets/system_images/system_finish2.png',
                    'assets/system_images/system_finish3.png',
                    'assets/system_images/system_finish4.png'
                ];

                async function runAnimation() {
                    // Phase 1: Task appears
                    await sleep(300);
                    taskSection.classList.add('visible');

                    // Phase 2: Down arrow
                    await sleep(500);
                    downArrow.classList.add('visible');
                    await sleep(100);
                    downArrow.classList.add('animated');

                    // Phase 3: Decompose label and robot
                    await sleep(500);
                    decomposeLabel.classList.add('visible');
                    await sleep(200);
                    robotContainer.classList.add('visible');
                    robotContainer.classList.add('thinking');

                    // Phase 4: Show receipt stack and workflow components
                    await sleep(800);
                    robotContainer.classList.remove('thinking');
                    robotContainer.classList.add('working');
                    receiptStackContainer.classList.add('visible');
                    await sleep(300);
                    workflowColumn.classList.add('visible');
                    await sleep(200);
                    workflowArrow.classList.add('visible');
                    await sleep(200);
                    interactionDisplay.classList.add('visible');
                    await sleep(300);
                    moreIndicator.classList.add('visible');

                    // Phase 5: Process each receipt
                    await sleep(500);
                    await processAllReceipts();
                }

                async function processReceipt(receiptIndex) {
                    const receiptSrc = receiptImages[receiptIndex];
                    
                    // Update labels
                    workflowDataLabel.innerHTML = `<span class="data-label-icon">📁</span> Sub-Workflow ${receiptIndex + 1} <br>(Data Unit ${receiptIndex + 1})`;
                    decomposeLabel.innerHTML = `🔄 Processing Receipt ${receiptIndex + 1}`;
                    decomposeLabel.classList.add('processing');

                    // Update receipt stack - highlight current
                    receiptThumbs.forEach((thumb, i) => {
                        thumb.classList.remove('current');
                        if (i < receiptIndex) {
                            thumb.classList.add('completed');
                        } else if (i === receiptIndex) {
                            thumb.classList.add('current');
                        }
                    });

                    // Show current receipt thumbnail on workflow column
                    currentReceiptThumbnail.src = receiptSrc;
                    currentReceiptThumbnail.classList.add('visible');

                    // Reset cards
                    [cardIdentify, cardUnderstand, cardFill].forEach(card => {
                        card.classList.remove('processing', 'completed');
                        card.classList.add('pending');
                    });

                    // Step 1: Identify the required data - show receipt
                    interactionLabel.textContent = 'Processing Receipt';
                    interactionLabel.classList.add('active');
                    interactionReceipt.src = receiptSrc;
                    interactionReceipt.classList.add('visible');
                    interactionSystem.classList.remove('visible');
                    cursorIcon.classList.remove('visible', 'animating');
                    processingIndicator.querySelector('span').textContent = 'SCANNING';
                    processingIndicator.classList.add('visible');

                    cardIdentify.classList.remove('pending');
                    cardIdentify.classList.add('processing');
                    await sleep(700);
                    cardIdentify.classList.remove('processing');
                    cardIdentify.classList.add('completed');

                    // Step 2: Understand and find information - still show receipt
                    processingIndicator.querySelector('span').textContent = 'READING';
                    cardUnderstand.classList.remove('pending');
                    cardUnderstand.classList.add('processing');
                    await sleep(900);
                    cardUnderstand.classList.remove('processing');
                    cardUnderstand.classList.add('completed');

                    // Step 3: Fill the form - switch to expense system with cursor
                    await sleep(200);
                    interactionLabel.textContent = 'Filling Form';
                    interactionReceipt.classList.remove('visible');
                    processingIndicator.classList.remove('visible');
                    await sleep(300);
                    
                    // Load the appropriate system image for this receipt
                    interactionSystem.src = systemImages[receiptIndex];
                    interactionSystem.classList.add('visible');
                    await sleep(200);
                    cursorIcon.classList.add('visible');
                    cursorIcon.classList.add('animating');
                    processingIndicator.querySelector('span').textContent = 'FILLING';
                    processingIndicator.classList.add('visible');

                    cardFill.classList.remove('pending');
                    cardFill.classList.add('processing');
                    
                    // Longer animation for filling form
                    await sleep(1800);
                    
                    // Stop cursor animation
                    cursorIcon.classList.remove('animating');
                    processingIndicator.querySelector('span').textContent = 'SAVING';
                    await sleep(400);
                    
                    // Switch to finish state image
                    interactionSystem.classList.remove('visible');
                    await sleep(150);
                    interactionSystem.src = systemFinishImages[receiptIndex];
                    interactionSystem.classList.add('visible');
                    processingIndicator.querySelector('span').textContent = 'DONE';
                    
                    await sleep(500);
                    cardFill.classList.remove('processing');
                    cardFill.classList.add('completed');

                    // Clean up for next receipt
                    await sleep(400);
                    cursorIcon.classList.remove('visible');
                    processingIndicator.classList.remove('visible');
                }

                async function processAllReceipts() {
                    for (let i = 0; i < receiptImages.length; i++) {
                        await processReceipt(i);
                        if (i < receiptImages.length - 1) {
                            await sleep(400);
                        }
                    }

                    // All done
                    receiptThumbs.forEach(thumb => {
                        thumb.classList.remove('current');
                        thumb.classList.add('completed');
                    });

                    decomposeLabel.innerHTML = '✅ All receipts processed';
                    decomposeLabel.classList.remove('processing');
                    robotContainer.classList.remove('working');
                    cursorIcon.classList.remove('visible');
                    interactionLabel.textContent = 'Complete!';

                    await sleep(1500);
                }

                await runAnimation();
            }

            // ==================== GALLERY FUNCTIONALITY ====================
            (function() {
                const galleryContainer = document.getElementById('gallery-columns-wrapper');
                const modal = document.getElementById('galleryModal');
                const modalImage = document.getElementById('galleryModalImage');
                const modalTitle = document.getElementById('galleryModalTitle');
                const modalDescription = document.getElementById('galleryModalDescription');
                const modalClose = document.querySelector('.gallery-modal-close');
                const modalBackdrop = document.querySelector('.gallery-modal-backdrop');
                const imageContainer = document.getElementById('galleryImageContainer');
                const zoomInBtn = document.getElementById('zoomIn');
                const zoomOutBtn = document.getElementById('zoomOut');
                const zoomResetBtn = document.getElementById('zoomReset');
                const zoomLevelDisplay = document.getElementById('zoomLevel');

                // Zoom state
                let currentZoom = 1;
                let panX = 0;
                let panY = 0;
                let isPanning = false;
                let startX = 0;
                let startY = 0;
                const MIN_ZOOM = 1;
                const MAX_ZOOM = 1.25;
                const ZOOM_STEP = 0.05;

                // Use event delegation for dynamically generated gallery items
                galleryContainer.addEventListener('click', (e) => {
                    const item = e.target.closest('.gallery-item');
                    if (!item) return;

                    const img = item.querySelector('img');
                    const title = item.dataset.title || 'Image Preview';
                    const description = item.dataset.description || '';

                    // Only open modal if there's an actual image (not placeholder)
                    if (img) {
                        modalImage.src = img.src;
                        modalImage.alt = img.alt;
                        modalTitle.textContent = title;
                        modalDescription.textContent = description;
                        resetZoom();
                        modal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }
                });

                // Zoom functions
                function updateZoom() {
                    // Use translate then scale so panning feels natural (1:1 with mouse movement)
                    modalImage.style.transform = `translate(${panX * currentZoom}px, ${panY * currentZoom}px) scale(${currentZoom})`;
                    zoomLevelDisplay.textContent = `${Math.round(currentZoom * 100)}%`;
                    
                    // Update button states
                    zoomInBtn.disabled = currentZoom >= MAX_ZOOM;
                    zoomOutBtn.disabled = currentZoom <= MIN_ZOOM;
                    
                    // Update container class for cursor
                    if (currentZoom > 1) {
                        imageContainer.classList.add('zoomed');
                        modalImage.classList.add('zoomed');
                    } else {
                        imageContainer.classList.remove('zoomed');
                        modalImage.classList.remove('zoomed');
                    }
                }

                function zoomIn(centerX, centerY) {
                    if (currentZoom < MAX_ZOOM) {
                        currentZoom = Math.min(MAX_ZOOM, currentZoom + ZOOM_STEP);
                        constrainPan();
                        updateZoom();
                    }
                }

                function zoomOut() {
                    if (currentZoom > MIN_ZOOM) {
                        currentZoom = Math.max(MIN_ZOOM, currentZoom - ZOOM_STEP);
                        constrainPan();
                        updateZoom();
                    }
                }

                function resetZoom() {
                    currentZoom = 1;
                    panX = 0;
                    panY = 0;
                    updateZoom();
                }

                function constrainPan() {
                    if (currentZoom <= 1) {
                        panX = 0;
                        panY = 0;
                        return;
                    }
                    
                    // Get the displayed image size (before zoom transform)
                    const displayedWidth = modalImage.offsetWidth;
                    const displayedHeight = modalImage.offsetHeight;
                    
                    // Allow panning to see the full edges of the zoomed image
                    // Max pan = half the image dimension (allows reaching both edges from center)
                    // Divide by zoom since transform multiplies pan by zoom
                    const maxPanX = displayedWidth / 2;
                    const maxPanY = displayedHeight / 2;
                    
                    panX = Math.max(-maxPanX, Math.min(maxPanX, panX));
                    panY = Math.max(-maxPanY, Math.min(maxPanY, panY));
                }

                // Button event listeners
                zoomInBtn.addEventListener('click', () => zoomIn());
                zoomOutBtn.addEventListener('click', zoomOut);
                zoomResetBtn.addEventListener('click', resetZoom);

                // Mouse wheel zoom
                imageContainer.addEventListener('wheel', (e) => {
                    e.preventDefault();
                    if (e.deltaY < 0) {
                        zoomIn();
                    } else {
                        zoomOut();
                    }
                });

                // Double click to zoom
                imageContainer.addEventListener('dblclick', (e) => {
                    if (currentZoom > 1) {
                        resetZoom();
                    } else {
                        currentZoom = MAX_ZOOM;
                        updateZoom();
                    }
                });

                // Pan functionality
                imageContainer.addEventListener('mousedown', (e) => {
                    if (currentZoom > 1) {
                        isPanning = true;
                        startX = e.clientX - panX * currentZoom;
                        startY = e.clientY - panY * currentZoom;
                        imageContainer.classList.add('panning');
                        e.preventDefault();
                    }
                });

                document.addEventListener('mousemove', (e) => {
                    if (isPanning) {
                        // Calculate pan with 1:1 feel - divide by zoom since transform multiplies by zoom
                        panX = (e.clientX - startX) / currentZoom;
                        panY = (e.clientY - startY) / currentZoom;
                        constrainPan();
                        updateZoom();
                    }
                });

                document.addEventListener('mouseup', () => {
                    isPanning = false;
                    imageContainer.classList.remove('panning');
                });

                // Touch support for mobile
                let touchStartDistance = 0;
                let touchStartZoom = 1;

                imageContainer.addEventListener('touchstart', (e) => {
                    if (e.touches.length === 2) {
                        // Pinch zoom start
                        touchStartDistance = Math.hypot(
                            e.touches[0].clientX - e.touches[1].clientX,
                            e.touches[0].clientY - e.touches[1].clientY
                        );
                        touchStartZoom = currentZoom;
                    } else if (e.touches.length === 1 && currentZoom > 1) {
                        // Pan start
                        isPanning = true;
                        startX = e.touches[0].clientX - panX * currentZoom;
                        startY = e.touches[0].clientY - panY * currentZoom;
                    }
                }, { passive: true });

                imageContainer.addEventListener('touchmove', (e) => {
                    if (e.touches.length === 2) {
                        // Pinch zoom
                        const distance = Math.hypot(
                            e.touches[0].clientX - e.touches[1].clientX,
                            e.touches[0].clientY - e.touches[1].clientY
                        );
                        const scale = distance / touchStartDistance;
                        currentZoom = Math.max(MIN_ZOOM, Math.min(MAX_ZOOM, touchStartZoom * scale));
                        constrainPan();
                        updateZoom();
                    } else if (isPanning && e.touches.length === 1) {
                        // Pan
                        panX = (e.touches[0].clientX - startX) / currentZoom;
                        panY = (e.touches[0].clientY - startY) / currentZoom;
                        constrainPan();
                        updateZoom();
                    }
                }, { passive: true });

                imageContainer.addEventListener('touchend', () => {
                    isPanning = false;
                    touchStartDistance = 0;
                });

                // Close modal
                function closeModal() {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                    resetZoom();
                }

                modalClose.addEventListener('click', closeModal);
                modalBackdrop.addEventListener('click', closeModal);

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (modal.classList.contains('active')) {
                        if (e.key === 'Escape') {
                            closeModal();
                        } else if (e.key === '+' || e.key === '=') {
                            zoomIn();
                        } else if (e.key === '-') {
                            zoomOut();
                        } else if (e.key === '0') {
                            resetZoom();
                        }
                    }
                });
            })();

            // Fix hover effect for table rows with merged cells (rowspan)
            (function() {
                const tables = document.querySelectorAll('table.table-hover');
                if (!tables.length) return;

                tables.forEach(table => {
                    const rows = table.querySelectorAll('tbody tr[data-row-group]');
                    
                    rows.forEach(row => {
                        row.addEventListener('mouseenter', function() {
                            const group = this.getAttribute('data-row-group');
                            // Only highlight rows within the same table
                            const tableRows = this.closest('table').querySelectorAll('tbody tr[data-row-group]');
                            tableRows.forEach(r => {
                                if (r.getAttribute('data-row-group') === group) {
                                    r.classList.add('row-group-hover');
                                }
                            });
                        });

                        row.addEventListener('mouseleave', function() {
                            const group = this.getAttribute('data-row-group');
                            // Only remove highlight from rows within the same table
                            const tableRows = this.closest('table').querySelectorAll('tbody tr[data-row-group]');
                            tableRows.forEach(r => {
                                if (r.getAttribute('data-row-group') === group) {
                                    r.classList.remove('row-group-hover');
                                }
                            });
                        });
                    });
                });
            })();

            // Initialize Bootstrap carousels
            document.addEventListener('DOMContentLoaded', function() {
                // Initialize envCarousel
                const envCarouselElement = document.getElementById('envCarousel');
                if (envCarouselElement) {
                    new bootstrap.Carousel(envCarouselElement, {
                        ride: false,
                        interval: false
                    });
                }

                // Initialize qualitativeCarousel
                const qualitativeCarouselElement = document.getElementById('qualitativeCarousel');
                if (qualitativeCarouselElement) {
                    new bootstrap.Carousel(qualitativeCarouselElement, {
                        ride: false,
                        interval: false
                    });
                }

                // Initialize agentResults carousel if it exists
                const agentResultsCarouselElement = document.getElementById('agentResults');
                if (agentResultsCarouselElement) {
                    new bootstrap.Carousel(agentResultsCarouselElement, {
                        ride: false,
                        interval: false
                    });
                }
            });

            // ==================== MOBILE MENU TOGGLE ====================
            (function() {
                const mobileMenuToggle = document.getElementById('mobileMenuToggle');
                const navItemsContainer = document.getElementById('navItemsContainer');
                
                if (!mobileMenuToggle || !navItemsContainer) return;

                mobileMenuToggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    navItemsContainer.classList.toggle('open');
                });

                // Close menu when a nav item is clicked
                const navItems = navItemsContainer.querySelectorAll('.sidebar-nav-item');
                navItems.forEach(item => {
                    item.addEventListener('click', function() {
                        mobileMenuToggle.classList.remove('active');
                        navItemsContainer.classList.remove('open');
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!e.target.closest('.sidebar-nav')) {
                        mobileMenuToggle.classList.remove('active');
                        navItemsContainer.classList.remove('open');
                    }
                });
            })();

            // ==================== SIDEBAR SCROLL SPY ====================
            (function() {
                const sidebarNav = document.getElementById('sidebarNav');
                if (!sidebarNav) return;

                const navItems = sidebarNav.querySelectorAll('.sidebar-nav-item');
                const sections = [];

                // Collect all section elements
                navItems.forEach(item => {
                    const sectionId = item.getAttribute('data-section');
                    const section = document.getElementById(sectionId);
                    if (section) {
                        sections.push({ id: sectionId, element: section, navItem: item });
                    }
                });

                // Smooth scroll on click
                navItems.forEach(item => {
                    item.addEventListener('click', function(e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href').substring(1);
                        const target = document.getElementById(targetId);
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    });
                });

                // Scroll spy - highlight active section
                function updateActiveSection() {
                    const scrollPosition = window.scrollY + 150; // Offset for header

                    // Find the current section
                    let currentSection = null;
                    for (let i = sections.length - 1; i >= 0; i--) {
                        const section = sections[i];
                        if (section.element.offsetTop <= scrollPosition) {
                            currentSection = section;
                            break;
                        }
                    }

                    // Update active class
                    navItems.forEach(item => item.classList.remove('active'));
                    if (currentSection) {
                        currentSection.navItem.classList.add('active');
                    } else if (sections.length > 0) {
                        // Default to first item if at top
                        sections[0].navItem.classList.add('active');
                    }
                }

                // Throttle scroll events
                let ticking = false;
                window.addEventListener('scroll', function() {
                    if (!ticking) {
                        window.requestAnimationFrame(function() {
                            updateActiveSection();
                            ticking = false;
                        });
                        ticking = true;
                    }
                });

                // Initial update
                updateActiveSection();
            })();
        </script>
    </body>
</html>

